{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///Users/enderkalem/si_app%20copy/app/api/create-portal-session/route.js"],"sourcesContent":["// app/api/create-portal-session/route.js\nimport { NextResponse } from 'next/server';\nimport Stripe from 'stripe';\n\nconst stripe = new Stripe(process.env.STRIPE_SECRET_KEY);\n\nexport async function POST(request) {\n  try {\n    const body = await request.json();\n    const { customerId } = body;\n\n    if (!customerId) {\n      return NextResponse.json(\n        { error: 'Customer ID is required' },\n        { status: 400 }\n      );\n    }\n\n    // Create portal session\n    const session = await stripe.billingPortal.sessions.create({\n      customer: customerId,\n      return_url: `${request.headers.get('origin')}/?nav=profile`,\n    });\n\n    return NextResponse.json({ url: session.url });\n\n  } catch (error) {\n    console.error('Portal session error:', error);\n    return NextResponse.json(\n      { error: error.message },\n      { status: 500 }\n    );\n  }\n}"],"names":[],"mappings":"AAAA,yCAAyC;;;;;AACzC;AACA;;;AAEA,MAAM,SAAS,IAAI,mLAAM,CAAC,QAAQ,GAAG,CAAC,iBAAiB;AAEhD,eAAe,KAAK,OAAO;IAChC,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,UAAU,EAAE,GAAG;QAEvB,IAAI,CAAC,YAAY;YACf,OAAO,gKAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAA0B,GACnC;gBAAE,QAAQ;YAAI;QAElB;QAEA,wBAAwB;QACxB,MAAM,UAAU,MAAM,OAAO,aAAa,CAAC,QAAQ,CAAC,MAAM,CAAC;YACzD,UAAU;YACV,YAAY,GAAG,QAAQ,OAAO,CAAC,GAAG,CAAC,UAAU,aAAa,CAAC;QAC7D;QAEA,OAAO,gKAAY,CAAC,IAAI,CAAC;YAAE,KAAK,QAAQ,GAAG;QAAC;IAE9C,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,gKAAY,CAAC,IAAI,CACtB;YAAE,OAAO,MAAM,OAAO;QAAC,GACvB;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}