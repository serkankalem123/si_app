{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///Users/enderkalem/si_app%20copy/app/api/create-checkout-session/route.js"],"sourcesContent":["// /app/api/create-checkout-session/route.js\nimport Stripe from \"stripe\";\n\nconst stripe = new Stripe(process.env.STRIPE_SECRET_KEY);\n\nexport async function POST(request) {\n  try {\n    const { userId, email } = await request.json();\n\n    const session = await stripe.checkout.sessions.create({\n      customer_email: email,\n      mode: \"subscription\",\n      payment_method_types: [\"card\"],\n      line_items: [\n        {\n          price: \"price_XXXX\", // replace with your real Stripe price ID\n          quantity: 1,\n        },\n      ],\n      success_url: `${request.headers.get(\"origin\")}/payment-success`,\n      cancel_url: `${request.headers.get(\"origin\")}/profile`,\n      metadata: { userId },\n    });\n\n    return Response.json({ url: session.url });\n  } catch (err) {\n    console.error(\"Stripe API Error:\", err.message);\n    return new Response(JSON.stringify({ error: err.message }), { status: 500 });\n  }\n}\n"],"names":[],"mappings":"AAAA,4CAA4C;;;;;;;;;;;AAG5C,MAAM,SAAS,IAAI,OAAO,QAAQ,GAAG,CAAC,iBAAiB;AAEhD,eAAe,KAAK,OAAO;IAChC,IAAI;QACF,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,QAAQ,IAAI;QAE5C,MAAM,UAAU,MAAM,OAAO,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC;YACpD,gBAAgB;YAChB,MAAM;YACN,sBAAsB;gBAAC;aAAO;YAC9B,YAAY;gBACV;oBACE,OAAO;oBACP,UAAU;gBACZ;aACD;YACD,aAAa,GAAG,QAAQ,OAAO,CAAC,GAAG,CAAC,UAAU,gBAAgB,CAAC;YAC/D,YAAY,GAAG,QAAQ,OAAO,CAAC,GAAG,CAAC,UAAU,QAAQ,CAAC;YACtD,UAAU;gBAAE;YAAO;QACrB;QAEA,OAAO,SAAS,IAAI,CAAC;YAAE,KAAK,QAAQ,GAAG;QAAC;IAC1C,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,qBAAqB,IAAI,OAAO;QAC9C,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;YAAE,OAAO,IAAI,OAAO;QAAC,IAAI;YAAE,QAAQ;QAAI;IAC5E;AACF","debugId":null}}]
}