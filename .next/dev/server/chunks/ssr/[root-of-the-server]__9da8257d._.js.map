{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///Users/enderkalem/si_app%20copy/src/supabaseClient.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = 'https://beegwfvdcxwlxjrffrki.supabase.co';  // Replace with your URL\nconst supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJlZWd3ZnZkY3h3bHhqcmZmcmtpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI1OTkzNDYsImV4cCI6MjA2ODE3NTM0Nn0.Tz3XhM8ZCFUH_sHbdqVDCxBfvZVjKx7jDafQmtlzvo0';                  // Replace with your public key\n\nexport const supabase = createClient(supabaseUrl, supabaseKey);\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,cAAc,4CAA6C,wBAAwB;AACzF,MAAM,cAAc,oNAAqO,+BAA+B;AAEjR,MAAM,WAAW,IAAA,uNAAY,EAAC,aAAa","debugId":null}},
    {"offset": {"line": 83, "column": 0}, "map": {"version":3,"sources":["file:///Users/enderkalem/si_app%20copy/src/components/Auth.js"],"sourcesContent":["// src/Auth.js\nimport React, { useState, useEffect } from 'react';\nimport { supabase } from '../supabaseClient';\n\nimport '../../styles/App.css';\n\n\n\n\nconst logo = \"/Cartoon.PNG\"\n\nfunction Auth({ onAuthSuccess, isLoginProp }) {\n  // States for login/signup\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [displayName, setDisplayName] = useState('');\n  const [isLogin, setIsLogin] = useState(true);\n\n  // Forgot password states\n  const [forgotPasswordMode, setForgotPasswordMode] = useState(false);\n  const [resetEmail, setResetEmail] = useState('');\n  const [resettingPassword, setResettingPassword] = useState(false);\n\n  // Password recovery\n  const [inPasswordRecovery, setInPasswordRecovery] = useState(false);\n  const [newPassword, setNewPassword] = useState('');\n\n  // UI messages\n  const [error, setError] = useState(null);\n  const [infoMessage, setInfoMessage] = useState(null);\n\n  useEffect(() => {\n    if (typeof isLoginProp === 'boolean') {\n      setIsLogin(isLoginProp);\n    }\n  }, [isLoginProp]);\n\n  // Detect password recovery link\n  useEffect(() => {\n    const { data } = supabase.auth.onAuthStateChange((event) => {\n      if (event === 'PASSWORD_RECOVERY') {\n        setInPasswordRecovery(true);\n        setForgotPasswordMode(false);\n        setError(null);\n        setInfoMessage(null);\n        setEmail('');\n        setPassword('');\n        setDisplayName('');\n        setResetEmail('');\n      }\n    });\n    const subscription = data?.subscription;\n    return () => {\n      if (subscription && typeof subscription.unsubscribe === 'function') {\n        subscription.unsubscribe();\n      }\n    };\n  }, []);\n\n  // Handle login/register\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(null);\n    setInfoMessage(null);\n\n    const trimmedEmail = email.trim();\n\n    if (!trimmedEmail) {\n      setError('Email must not be empty.');\n      return;\n    }\n    if (!password) {\n      setError('Password must not be empty.');\n      return;\n    }\n    if (!isLogin && !displayName.trim()) {\n      setError('Display name is required for registration.');\n      return;\n    }\n\n    try {\n      if (isLogin) {\n        const { data, error: loginError } = await supabase.auth.signInWithPassword({\n          email: trimmedEmail,\n          password,\n        });\n      \n        if (loginError) {\n          setError(`Login failed: ${loginError.message}`);\n        } else if (!data.session) {\n          setInfoMessage('No active session received. Check if email confirmation is required.');\n        } else {\n          // 🩵 Fetch fresh user data including metadata\n          const { data: userData, error: userError } = await supabase.auth.getUser();\n          if (userError) {\n            console.error('Failed to fetch user data:', userError);\n          } else if (userData?.user) {\n            data.user = userData.user; // attach full user with metadata\n          }\n          onAuthSuccess(data, false);\n        }\n      \n      \n      } else {\n        const { data, error: signUpError } = await supabase.auth.signUp({\n          email: trimmedEmail,\n          password,\n          options: { data: { display_name: displayName.trim() } },\n        });\n        if (signUpError) {\n          setError(`Sign-up failed: ${signUpError.message}`);\n          return;\n        }\n        if (data?.user && !data?.session) {\n          setInfoMessage('✉️ Account created! Please check your for verification.');\n          return;\n        }\n        if (data?.session) {\n          onAuthSuccess(data, true);\n        }\n      }\n    } catch (err) {\n      console.error('Unexpected error during authentication:', err);\n      setError('Unexpected error occurred during authentication. Check console.');\n    }\n  };\n\n  // Forgot password flow\n  const sendResetEmail = async () => {\n    setError(null);\n    setInfoMessage(null);\n    if (!resetEmail.trim()) {\n      setError('Please enter your email to reset your password.');\n      return;\n    }\n    setResettingPassword(true);\n    const { error } = await supabase.auth.resetPasswordForEmail(resetEmail.trim(), {\n      redirectTo: window.location.origin,\n    });\n    setResettingPassword(false);\n    if (error) setError(`Failed to send reset email: ${error.message}`);\n    else setInfoMessage('✉️ Password reset email sent! Check your inbox.');\n  };\n\n  // Update password after recovery\n  const updatePassword = async () => {\n    setError(null);\n    setInfoMessage(null);\n    if (!newPassword) {\n      setError('Please enter a new password.');\n      return;\n    }\n    const { error } = await supabase.auth.updateUser({ password: newPassword });\n    if (error) {\n      setError(`Failed to update password: ${error.message}`);\n    } else {\n      setInfoMessage('Password updated! You may now log in.');\n      setInPasswordRecovery(false);\n      setNewPassword('');\n      setIsLogin(true);\n      setEmail('');\n      setPassword('');\n      setForgotPasswordMode(false);\n      setResetEmail('');\n    }\n  };\n\n  if (inPasswordRecovery) {\n    return (\n      <div className=\"auth-container\">\n        <div className=\"auth-box\">\n          <h2>Reset Your Password</h2>\n          <input\n            type=\"password\"\n            placeholder=\"New Password\"\n            value={newPassword}\n            onChange={(e) => setNewPassword(e.target.value)}\n            className=\"auth-input\"\n          />\n          <button onClick={updatePassword} className=\"auth-button\">\n            Update Password\n          </button>\n          {error && <div className=\"auth-message error\">{error}</div>}\n          {infoMessage && <div className=\"auth-message success\">{infoMessage}</div>}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"auth-container\">\n      <div className=\"auth-box\">\n        <img src={logo} alt=\"App Logo\" className=\"auth-logo\" />\n\n        {!forgotPasswordMode ? (\n          <>\n            <h2 style={{ marginBottom: 20 }}>{isLogin ? 'Login' : 'Register'}</h2>\n\n            <form onSubmit={handleSubmit} style={{ width: '100%' }}>\n              <input\n                type=\"email\"\n                placeholder=\"Email\"\n                value={email}\n                required\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"auth-input\"\n              />\n              {!isLogin && (\n                <input\n                  type=\"text\"\n                  placeholder=\"Display Name\"\n                  value={displayName}\n                  required\n                  onChange={(e) => setDisplayName(e.target.value)}\n                  className=\"auth-input\"\n                  style={{ marginTop: 8 }}\n                />\n              )}\n              <input\n                type=\"password\"\n                placeholder=\"Password\"\n                value={password}\n                required\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"auth-input\"\n              />\n              <button type=\"submit\" className=\"auth-button\">\n                {isLogin ? 'Login' : 'Register'}\n              </button>\n            </form>\n\n            <p style={{ marginTop: 16 }}>\n              {isLogin ? \"Don't have an account?\" : 'Already have an account?'}{' '}\n              <span\n                onClick={() => {\n                  setIsLogin(!isLogin);\n                  setError(null);\n                  setInfoMessage(null);\n                  setDisplayName('');\n                }}\n                style={{ color: 'blue', cursor: 'pointer', fontWeight: 'bold' }}\n              >\n                {isLogin ? 'Register' : 'Login'}\n              </span>\n            </p>\n\n            {isLogin && (\n              <p\n                onClick={() => {\n                  setForgotPasswordMode(true);\n                  setError(null);\n                  setInfoMessage(null);\n                  setResetEmail('');\n                }}\n                style={{ color: 'blue', cursor: 'pointer', fontWeight: 'bold', marginTop: 10 }}\n              >\n                Forgot Password?\n              </p>\n            )}\n\n            {/* Styled message boxes */}\n            {error && <div className=\"auth-message error\">{error}</div>}\n            {infoMessage && <div className=\"auth-message success\">{infoMessage}</div>}\n          </>\n        ) : (\n          <>\n            <h2 style={{ marginBottom: 20 }}>Reset Password</h2>\n            <input\n              type=\"email\"\n              placeholder=\"Enter your email\"\n              value={resetEmail}\n              onChange={(e) => setResetEmail(e.target.value)}\n              className=\"auth-input\"\n            />\n            <button\n              onClick={sendResetEmail}\n              disabled={resettingPassword}\n              className=\"auth-button\"\n              style={{ marginTop: 10 }}\n            >\n              {resettingPassword ? 'Sending...' : 'Send Reset Email'}\n            </button>\n            <button\n              onClick={() => {\n                setForgotPasswordMode(false);\n                setError(null);\n                setInfoMessage(null);\n                setResetEmail('');\n              }}\n              className=\"auth-button\"\n              style={{ marginTop: 10, backgroundColor: '#ccc', color: '#333' }}\n            >\n              Back\n            </button>\n\n            {/* Styled message boxes */}\n            {error && <div className=\"auth-message error\">{error}</div>}\n            {infoMessage && <div className=\"auth-message success\">{infoMessage}</div>}\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Auth;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 549, "column": 0}, "map": {"version":3,"sources":["file:///Users/enderkalem/si_app%20copy/src/components/MembershipCard.js"],"sourcesContent":["// src/MembershipCard.jsx\nimport { useState } from \"react\"\n\nimport '../../styles/App.css';\n\n\n\n\nconst logo = \"/Cartoon.PNG\"\n\nconst MembershipCard = ({ name }) => {\n  const [expanded, setExpanded] = useState(false)\n\n  return (\n    <div\n      className={`${expanded ? \"expanded-card\" : \"shake-animation glisten\"}`}\n      style={{\n        background: \"linear-gradient(145deg, #e5e7eb, #d1d5db)\",\n        borderRadius: 16,\n        width: expanded ? \"90vw\" : \"91%\",\n        maxWidth: expanded ? \"1000px\" : \"420px\",\n        aspectRatio: expanded ? \"2.2\" : \"1.6\", // landscape vs portrait\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        fontFamily: \"'Segoe UI', sans-serif\",\n        boxShadow: \"0 6px 14px rgba(0,0,0,0.15)\",\n        padding: \"24px 16px\",\n        boxSizing: \"border-box\",\n        minHeight: 260,\n        position: \"relative\",\n        overflow: \"hidden\",\n        transition: \"all 0.4s ease\",\n      }}\n    >\n      {/* Close Button (only in expanded mode) */}\n      {expanded && (\n        <button\n          onClick={() => setExpanded(false)}\n          style={{\n            position: \"absolute\",\n            top: 12,\n            right: 12,\n            background: \"transparent\",\n            border: \"none\",\n            fontSize: 20,\n            cursor: \"pointer\",\n            color: \"#333\",\n          }}\n        >\n          ✕\n        </button>\n      )}\n\n      {/* Logo */}\n      <img\n        src={logo || \"/placeholder.svg\"}\n        alt=\"Logo\"\n        style={{\n          height: expanded ? 80 : 120, // smaller logo in landscape\n          marginBottom: expanded ? 8 : 12,\n        }}\n      />\n\n      {/* Title */}\n      <h2\n        style={{\n          fontSize: expanded ? 18 : 20,\n          fontWeight: 800,\n          margin: 0,\n          color: \"#111\",\n          textAlign: \"center\",\n        }}\n      >\n        THE HIGHLIGHTING SI\n      </h2>\n      <p\n        style={{\n          fontSize: expanded ? 12 : 14,\n          letterSpacing: expanded ? 4 : 6,\n          margin: \"4px 0 14px\",\n          color: \"#111\",\n          textAlign: \"center\",\n        }}\n      >\n        EXPERIENCE\n      </p>\n\n      {/* Divider */}\n      <div\n        style={{\n          width: \"92%\",\n          height: 1,\n          backgroundColor: \"#444\",\n          margin: \"0 auto 14px auto\",\n        }}\n      ></div>\n\n      {/* Name + Expiration */}\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          width: \"92%\",\n          fontSize: expanded ? 14 : 15,\n          fontWeight: 700,\n          color: \"#111\",\n          margin: \"0 auto 8px auto\",\n        }}\n      >\n        <span>{name || \"Your Name\"}</span>\n        <span>EXP 09/30/26</span>\n      </div>\n\n      {/* Expand button (hidden in expanded mode) */}\n      {!expanded && (\n        <button\n          onClick={() => setExpanded(true)}\n          style={{\n            marginTop: 16,\n            padding: \"10px 18px\",\n            background: \"linear-gradient(135deg, #2563eb, #1d4ed8)\",\n            color: \"#fff\",\n            border: \"none\",\n            borderRadius: 8,\n            fontWeight: 600,\n            cursor: \"pointer\",\n            transition: \"all 0.3s ease\",\n          }}\n        >\n          Expand\n        </button>\n      )}\n    </div>\n  )\n}\n\nexport default MembershipCard\n\n"],"names":[],"mappings":"AAAA,yBAAyB;;;;;;AACzB;;;;AAOA,MAAM,OAAO;AAEb,MAAM,iBAAiB,CAAC,EAAE,IAAI,EAAE;IAC9B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iOAAQ,EAAC;IAEzC,qBACE,8PAAC;QACC,WAAW,GAAG,WAAW,kBAAkB,2BAA2B;QACtE,OAAO;YACL,YAAY;YACZ,cAAc;YACd,OAAO,WAAW,SAAS;YAC3B,UAAU,WAAW,WAAW;YAChC,aAAa,WAAW,QAAQ;YAChC,SAAS;YACT,eAAe;YACf,gBAAgB;YAChB,YAAY;YACZ,YAAY;YACZ,WAAW;YACX,SAAS;YACT,WAAW;YACX,WAAW;YACX,UAAU;YACV,UAAU;YACV,YAAY;QACd;;YAGC,0BACC,8PAAC;gBACC,SAAS,IAAM,YAAY;gBAC3B,OAAO;oBACL,UAAU;oBACV,KAAK;oBACL,OAAO;oBACP,YAAY;oBACZ,QAAQ;oBACR,UAAU;oBACV,QAAQ;oBACR,OAAO;gBACT;0BACD;;;;;;0BAMH,8PAAC;gBACC,KAAK,QAAQ;gBACb,KAAI;gBACJ,OAAO;oBACL,QAAQ,WAAW,KAAK;oBACxB,cAAc,WAAW,IAAI;gBAC/B;;;;;;0BAIF,8PAAC;gBACC,OAAO;oBACL,UAAU,WAAW,KAAK;oBAC1B,YAAY;oBACZ,QAAQ;oBACR,OAAO;oBACP,WAAW;gBACb;0BACD;;;;;;0BAGD,8PAAC;gBACC,OAAO;oBACL,UAAU,WAAW,KAAK;oBAC1B,eAAe,WAAW,IAAI;oBAC9B,QAAQ;oBACR,OAAO;oBACP,WAAW;gBACb;0BACD;;;;;;0BAKD,8PAAC;gBACC,OAAO;oBACL,OAAO;oBACP,QAAQ;oBACR,iBAAiB;oBACjB,QAAQ;gBACV;;;;;;0BAIF,8PAAC;gBACC,OAAO;oBACL,SAAS;oBACT,gBAAgB;oBAChB,YAAY;oBACZ,OAAO;oBACP,UAAU,WAAW,KAAK;oBAC1B,YAAY;oBACZ,OAAO;oBACP,QAAQ;gBACV;;kCAEA,8PAAC;kCAAM,QAAQ;;;;;;kCACf,8PAAC;kCAAK;;;;;;;;;;;;YAIP,CAAC,0BACA,8PAAC;gBACC,SAAS,IAAM,YAAY;gBAC3B,OAAO;oBACL,WAAW;oBACX,SAAS;oBACT,YAAY;oBACZ,OAAO;oBACP,QAAQ;oBACR,cAAc;oBACd,YAAY;oBACZ,QAAQ;oBACR,YAAY;gBACd;0BACD;;;;;;;;;;;;AAMT;uCAEe","debugId":null}},
    {"offset": {"line": 717, "column": 0}, "map": {"version":3,"sources":["file:///Users/enderkalem/si_app%20copy/src/components/BusinessForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { supabase } from '../supabaseClient';\n\nfunction BusinessForm({ onAddBusiness }) {\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    tags: '',\n    zipCode: '',\n    address: '', // Address for Google Maps\n    discount: '10', // Default discount 10%\n  });\n\n  const [logoFile, setLogoFile] = useState(null);\n  const [photoFiles, setPhotoFiles] = useState([]);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const handleChange = (e) => {\n    setFormData(prev => ({ ...prev, [e.target.name]: e.target.value }));\n  };\n\n  // Sanitize filenames: remove non-ASCII characters\n  const sanitizeFilename = (name) => name.replace(/[^\\w\\-\\.]/g, '_');\n\n  const uploadFile = async (file, pathPrefix) => {\n    const cleanName = sanitizeFilename(file.name);\n    const filePath = `${pathPrefix}/${Date.now()}_${cleanName}`;\n    const { error: uploadError } = await supabase.storage\n      .from('business-assets')\n      .upload(filePath, file, { upsert: true });\n    if (uploadError) throw uploadError;\n    const { data } = supabase.storage.from('business-assets').getPublicUrl(filePath);\n    return data.publicUrl;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(null);\n    setLoading(true);\n\n    try {\n      const logoUrl = logoFile ? await uploadFile(logoFile, 'logos') : null;\n      const photoUrls = [];\n      for (const photo of photoFiles) {\n        const url = await uploadFile(photo, 'photos');\n        photoUrls.push(url);\n      }\n\n      // Insert business with discount included\n      const { error: insertError, data } = await supabase.from('businesses')\n        .insert([{\n          name: formData.name.trim(),\n          description: formData.description.trim(),\n          tags: formData.tags.split(',').map(t => t.trim()).filter(Boolean),\n          zip_code: formData.zipCode.trim(),\n          address: formData.address.trim(),\n          discount: formData.discount,   // NEW discount field\n          logo_url: logoUrl,\n          photo_urls: photoUrls,\n          created_at: new Date(),\n        }])\n        .select();\n\n      if (insertError) {\n        setError(insertError.message);\n        setLoading(false);\n        return;\n      }\n\n      if (data && data.length > 0) {\n        onAddBusiness(data[0]);\n        setFormData({ name: '', description: '', tags: '', zipCode: '', address: '', discount: '10' });\n        setLogoFile(null);\n        setPhotoFiles([]);\n      } else {\n        setError('Unexpected error: no business data returned after insert.');\n      }\n    } catch (err) {\n      setError(err.message);\n    }\n    setLoading(false);\n  };\n\n  const sharedInputStyles = {\n    width: '100%',\n    padding: '10px 14px',\n    borderRadius: 8,\n    border: '1px solid #ccc',\n    marginBottom: 16,\n    fontSize: 16,\n    outline: 'none',\n    boxSizing: 'border-box',\n    fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\"\n  };\n\n  return (\n    <form\n      onSubmit={handleSubmit}\n      style={{\n        maxWidth: 480,\n        margin: '20px auto',\n        padding: 24,\n        backgroundColor: '#f8faff',\n        borderRadius: 12,\n        boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\n        fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\",\n        color: '#333',\n      }}\n    >\n      <h2 style={{ textAlign: 'center', color: '#0457b8', marginBottom: 20 }}>\n        Add Your Business\n      </h2>\n\n      {/* Business Name */}\n      <label style={{ display: 'block', marginBottom: 6, fontWeight: '600' }}>\n        Business Name*\n      </label>\n      <input\n        type=\"text\"\n        name=\"name\"\n        value={formData.name}\n        onChange={handleChange}\n        required\n        placeholder=\"Enter business name\"\n        style={sharedInputStyles}\n      />\n\n      {/* Description */}\n      <label style={{ display: 'block', marginBottom: 6, fontWeight: '600' }}>\n        Description*\n      </label>\n      <textarea\n        name=\"description\"\n        value={formData.description}\n        onChange={handleChange}\n        required\n        placeholder=\"Describe your business\"\n        rows={4}\n        style={{ ...sharedInputStyles, resize: 'vertical' }}\n      />\n\n      {/* Zip Code */}\n      <label style={{ display: 'block', marginBottom: 6, fontWeight: '600' }}>\n        Zip Code*\n      </label>\n      <input\n        type=\"text\"\n        name=\"zipCode\"\n        value={formData.zipCode}\n        onChange={handleChange}\n        required\n        placeholder=\"e.g. 10314\"\n        style={sharedInputStyles}\n      />\n\n      {/* Address */}\n      <label style={{ display: 'block', marginBottom: 6, fontWeight: '600' }}>\n        Address* (for Google Maps)\n      </label>\n      <input\n        type=\"text\"\n        name=\"address\"\n        value={formData.address}\n        onChange={handleChange}\n        required\n        placeholder=\"123 Main St, Staten Island, NY 10314\"\n        style={sharedInputStyles}\n      />\n\n      {/* Google Maps Preview */}\n      {formData.address && (\n        <iframe\n          title=\"map-preview\"\n          width=\"100%\"\n          height=\"200\"\n          style={{ border: 0, borderRadius: 8 }}\n          loading=\"lazy\"\n          allowFullScreen\n          src={`https://www.google.com/maps/embed/v1/place?key=AIzaSyDbunv4FltSPw8q9_jQJoVDrCJ7dPjsVaw&q=${encodeURIComponent(formData.address)}`}\n        ></iframe>\n      )}\n\n      {/* Tags */}\n      <label style={{ display: 'block', marginBottom: 6, fontWeight: '600' }}>\n        Tags (comma separated)\n      </label>\n      <input\n        type=\"text\"\n        name=\"tags\"\n        value={formData.tags}\n        onChange={handleChange}\n        placeholder=\"e.g. pizza, italian, family owned\"\n        style={sharedInputStyles}\n      />\n\n      {/* Discount Offer */}\n      <label style={{ display: 'block', marginBottom: 6, fontWeight: '600' }}>\n        Discount Offer*\n      </label>\n      <select\n        name=\"discount\"\n        value={formData.discount}\n        onChange={handleChange}\n        style={sharedInputStyles}\n        required\n      >\n        <option value=\"5\">5% Discount</option>\n        <option value=\"10\">10% Discount</option>\n        <option value=\"15\">15% Discount</option>\n      </select>\n\n      {/* Logo */}\n      <label style={{ display: 'block', marginBottom: 6, fontWeight: '600' }}>\n        Logo (one image)\n      </label>\n      <input\n        type=\"file\"\n        accept=\"image/*\"\n        onChange={(e) => setLogoFile(e.target.files?.[0] || null)}\n        style={{ marginBottom: 16 }}\n      />\n\n      {/* Photos */}\n      <label style={{ display: 'block', marginBottom: 6, fontWeight: '600' }}>\n        Photos (multiple)\n      </label>\n      <input\n        type=\"file\"\n        accept=\"image/*\"\n        multiple\n        onChange={(e) => setPhotoFiles(Array.from(e.target.files || []))}\n        style={{ marginBottom: 24 }}\n      />\n\n      {error && (\n        <p style={{ color: 'red', textAlign: 'center', marginBottom: 16 }}>\n          {error}\n        </p>\n      )}\n\n      <button \n        type=\"submit\" \n        disabled={loading}\n        style={{\n          width: '100%',\n          padding: '12px 0',\n          backgroundColor: '#007acc',\n          color: 'white',\n          border: 'none',\n          borderRadius: 8,\n          fontWeight: '600',\n          fontSize: 16,\n          cursor: loading ? 'not-allowed' : 'pointer',\n          boxShadow: '0 2px 6px rgba(0, 122, 204, 0.5)',\n          transition: 'background-color 0.3s ease',\n          fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\"\n        }}\n        onMouseEnter={e => { if(!loading) e.target.style.backgroundColor = '#005fa3'; }}\n        onMouseLeave={e => { if(!loading) e.target.style.backgroundColor = '#007acc'; }}\n      >\n        {loading ? 'Submitting...' : 'Submit Business'}\n      </button>\n    </form>\n  );\n}\n\nexport default BusinessForm;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1138, "column": 0}, "map": {"version":3,"sources":["file:///Users/enderkalem/si_app%20copy/src/components/BusinessProfile.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nfunction BusinessProfile({ business, onClose, isAdmin, onPhotosUpdate }) {\n  const [selectedPhoto, setSelectedPhoto] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [localPhotos, setLocalPhotos] = useState(business.photo_urls || []);\n\n  useEffect(() => {\n    setLocalPhotos(business.photo_urls || []);\n  }, [business.photo_urls]);\n\n  useEffect(() => {\n    // Lock background scroll when modal is open\n    const scrollY = window.scrollY;\n    document.body.style.position = 'fixed';\n    document.body.style.top = `-${scrollY}px`;\n    document.body.style.left = '0';\n    document.body.style.right = '0';\n    document.body.style.overflowY = 'scroll';\n    \n    return () => {\n      document.body.style.position = '';\n      document.body.style.top = '';\n      document.body.style.left = '';\n      document.body.style.right = '';\n      document.body.style.overflowY = '';\n      window.scrollTo(0, scrollY);\n    };\n  }, []);\n\n  if (!business) return null;\n\n  const handlePhotoUpload = async (e) => {\n    const files = Array.from(e.target.files);\n    if (!files.length || !onPhotosUpdate) return;\n\n    setUploading(true);\n    try {\n      const newPhotoUrls = await onPhotosUpdate(business.id, files);\n      if (newPhotoUrls && newPhotoUrls.length > 0) {\n        setLocalPhotos(prev => [...prev, ...newPhotoUrls]);\n      }\n    } catch (error) {\n      console.error('Error uploading photos:', error);\n      alert('Failed to upload photos');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const handleDeletePhoto = async (photoUrl, index) => {\n    if (!window.confirm('Delete this photo?')) return;\n    \n    try {\n      const { supabase } = await import('../supabaseClient');\n      \n      const urlParts = photoUrl.split('/business-logos/');\n      if (urlParts.length < 2) {\n        throw new Error('Invalid photo URL');\n      }\n      const filePath = urlParts[1].split('?')[0];\n      \n      const { error: storageError } = await supabase.storage\n        .from('business-logos')\n        .remove([filePath]);\n      \n      if (storageError) throw storageError;\n      \n      const updatedPhotos = localPhotos.filter((_, i) => i !== index);\n      const { error: dbError } = await supabase\n        .from('businesses')\n        .update({ photo_urls: updatedPhotos })\n        .eq('id', business.id);\n      \n      if (dbError) throw dbError;\n      \n      setLocalPhotos(updatedPhotos);\n      alert('Photo deleted successfully');\n    } catch (error) {\n      console.error('Error deleting photo:', error);\n      alert('Failed to delete photo');\n    }\n  };\n\n  const allPhotos = [];\n  if (business.logo_url && business.logo_url.trim() !== '' && business.logo_url !== '/placeholder.svg') {\n    allPhotos.push({ url: business.logo_url, isLogo: true });\n  }\n  localPhotos.forEach(url => {\n    allPhotos.push({ url, isLogo: false });\n  });\n\n  return (\n    <>\n      <div style={{\n        position: 'fixed',\n        inset: 0,\n        backgroundColor: 'rgba(0,0,0,0.75)',\n        backdropFilter: 'blur(8px)',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        zIndex: 1000,\n        padding: 20,\n        overflowY: 'auto',\n      }}>\n        <div style={{\n          backgroundColor: 'white',\n          borderRadius: 24,\n          maxWidth: 600,\n          width: '100%',\n          maxHeight: '92vh',\n          overflowY: 'auto',\n          boxShadow: '0 25px 50px -12px rgba(0,0,0,0.25)',\n          position: 'relative',\n          fontFamily: \"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif\",\n        }}>\n          {/* Header with Gradient */}\n          <div style={{\n            background: 'linear-gradient(135deg, #1e3a8a 0%, #2563eb 100%)',\n            borderRadius: '24px 24px 0 0',\n            padding: '32px 32px 24px',\n            position: 'relative',\n          }}>\n            <button\n              onClick={onClose}\n              style={{\n                position: 'absolute',\n                right: 20,\n                top: 20,\n                background: 'rgba(255,255,255,0.2)',\n                backdropFilter: 'blur(10px)',\n                border: 'none',\n                borderRadius: '50%',\n                width: 36,\n                height: 36,\n                fontSize: 24,\n                fontWeight: '300',\n                cursor: 'pointer',\n                color: 'white',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                transition: 'all 0.2s',\n              }}\n              onMouseEnter={(e) => {\n                e.target.style.background = 'rgba(255,255,255,0.3)';\n                e.target.style.transform = 'scale(1.1)';\n              }}\n              onMouseLeave={(e) => {\n                e.target.style.background = 'rgba(255,255,255,0.2)';\n                e.target.style.transform = 'scale(1)';\n              }}\n              aria-label=\"Close\"\n            >\n              ×\n            </button>\n\n            <h2 style={{ \n              margin: 0, \n              color: 'white', \n              fontSize: 32,\n              fontWeight: '700',\n              letterSpacing: '-0.5px',\n            }}>\n              {business.name ?? 'N/A'}\n            </h2>\n          </div>\n\n          {/* Content */}\n          <div style={{ padding: '28px 32px 32px' }}>\n            {/* Photos Gallery */}\n            {allPhotos.length > 0 && (\n              <div style={{ marginBottom: 28 }}>\n                <div style={{ \n                  display: 'flex', \n                  gap: 12, \n                  overflowX: 'auto', \n                  paddingBottom: 8,\n                  scrollbarWidth: 'thin',\n                  scrollbarColor: '#667eea #f1f1f1',\n                }}>\n                  {allPhotos.map((photo, i) => (\n                    <div key={i} style={{ position: 'relative', flexShrink: 0 }}>\n                      <img\n                        src={photo.url}\n                        alt={photo.isLogo ? `${business.name ?? 'Business'} logo` : `Photo ${i}`}\n                        style={{ \n                          height: 140,\n                          width: 140,\n                          objectFit: 'cover',\n                          borderRadius: 16,\n                          cursor: 'pointer',\n                          transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\n                          boxShadow: '0 4px 6px -1px rgba(0,0,0,0.1)',\n                        }}\n                        onClick={() => setSelectedPhoto(photo.url)}\n                        onMouseEnter={(e) => {\n                          e.target.style.transform = 'scale(1.05) translateY(-4px)';\n                          e.target.style.boxShadow = '0 20px 25px -5px rgba(0,0,0,0.15)';\n                        }}\n                        onMouseLeave={(e) => {\n                          e.target.style.transform = 'scale(1) translateY(0)';\n                          e.target.style.boxShadow = '0 4px 6px -1px rgba(0,0,0,0.1)';\n                        }}\n                      />\n                      {isAdmin && !photo.isLogo && (\n                        <button\n                          onClick={() => handleDeletePhoto(photo.url, i - 1)}\n                          style={{\n                            position: 'absolute',\n                            top: 8,\n                            right: 8,\n                            backgroundColor: 'rgba(239, 68, 68, 0.95)',\n                            color: 'white',\n                            border: 'none',\n                            borderRadius: '50%',\n                            width: 28,\n                            height: 28,\n                            cursor: 'pointer',\n                            fontSize: 16,\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            fontWeight: 'bold',\n                            boxShadow: '0 2px 8px rgba(0,0,0,0.2)',\n                            transition: 'all 0.2s',\n                          }}\n                          onMouseEnter={(e) => {\n                            e.target.style.backgroundColor = 'rgba(220, 38, 38, 1)';\n                            e.target.style.transform = 'scale(1.1)';\n                          }}\n                          onMouseLeave={(e) => {\n                            e.target.style.backgroundColor = 'rgba(239, 68, 68, 0.95)';\n                            e.target.style.transform = 'scale(1)';\n                          }}\n                        >\n                          ×\n                        </button>\n                      )}\n                    </div>\n                  ))}\n                  \n                  {isAdmin && (\n                    <label\n                      style={{\n                        background: 'linear-gradient(135deg, #1e3a8a 0%, #2563eb 100%)',\n                        color: 'white',\n                        borderRadius: 16,\n                        width: 140,\n                        height: 140,\n                        display: 'flex',\n                        flexDirection: 'column',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        cursor: uploading ? 'not-allowed' : 'pointer',\n                        fontSize: '40px',\n                        boxShadow: '0 4px 6px -1px rgba(0,0,0,0.1)',\n                        opacity: uploading ? 0.6 : 1,\n                        flexShrink: 0,\n                        border: '2px dashed rgba(255,255,255,0.4)',\n                        transition: 'all 0.3s',\n                      }}\n                      onMouseEnter={(e) => {\n                        if (!uploading) {\n                          e.target.style.transform = 'scale(1.05)';\n                          e.target.style.boxShadow = '0 20px 25px -5px rgba(0,0,0,0.15)';\n                        }\n                      }}\n                      onMouseLeave={(e) => {\n                        e.target.style.transform = 'scale(1)';\n                        e.target.style.boxShadow = '0 4px 6px -1px rgba(0,0,0,0.1)';\n                      }}\n                    >\n                      {uploading ? '⏳' : '📷'}\n                      {!uploading && <span style={{ fontSize: 13, marginTop: 8, fontWeight: '500' }}>Add Photos</span>}\n                      <input\n                        type=\"file\"\n                        accept=\"image/*\"\n                        multiple\n                        disabled={uploading}\n                        style={{ display: 'none' }}\n                        onChange={handlePhotoUpload}\n                      />\n                    </label>\n                  )}\n                </div>\n                {uploading && (\n                  <div style={{ \n                    fontSize: 13, \n                    color: '#2563eb', \n                    marginTop: 12,\n                    fontWeight: '500',\n                  }}>\n                    ⏳ Uploading photos...\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Description */}\n            {business.description && (\n              <p style={{ \n                fontSize: 15, \n                lineHeight: '1.7em', \n                marginBottom: 24,\n                color: '#4b5563',\n              }}>\n                {business.description}\n              </p>\n            )}\n\n            {/* Info Cards */}\n            <div style={{ display: 'flex', flexDirection: 'column', gap: 12, marginBottom: 24 }}>\n              {business.address && business.address !== 'N/A' && (\n                <div style={{\n                  background: 'linear-gradient(to right, #f3f4f6, #ffffff)',\n                  padding: '16px 20px',\n                  borderRadius: 12,\n                  border: '1px solid #e5e7eb',\n                }}>\n                  <div style={{ fontSize: 12, color: '#9ca3af', fontWeight: '600', marginBottom: 4 }}>\n                    📍 ADDRESS\n                  </div>\n                  <div style={{ fontSize: 15, color: '#1f2937', fontWeight: '500' }}>\n                    {business.address}\n                  </div>\n                </div>\n              )}\n\n              <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: 12 }}>\n                {business.zip_code && business.zip_code !== 'N/A' && (\n                  <div style={{\n                    background: 'linear-gradient(to right, #f3f4f6, #ffffff)',\n                    padding: '16px 20px',\n                    borderRadius: 12,\n                    border: '1px solid #e5e7eb',\n                  }}>\n                    <div style={{ fontSize: 12, color: '#9ca3af', fontWeight: '600', marginBottom: 4 }}>\n                      🏷️    ZIP CODE\n                    </div>\n                    <div style={{ fontSize: 15, color: '#1f2937', fontWeight: '500' }}>\n                      {business.zip_code}\n                    </div>\n                  </div>\n                )}\n\n                {business.phone_number && business.phone_number !== 'N/A' && (\n                  <div style={{\n                    background: 'linear-gradient(to right, #f3f4f6, #ffffff)',\n                    padding: '16px 20px',\n                    borderRadius: 12,\n                    border: '1px solid #e5e7eb',\n                  }}>\n                    <div style={{ fontSize: 12, color: '#9ca3af', fontWeight: '600', marginBottom: 4 }}>\n                      📞  PHONE\n                    </div>\n                    <div style={{ fontSize: 15, color: '#1f2937', fontWeight: '500' }}>\n                      {business.phone_number}\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              {business.discount && (\n                <div style={{\n                  background: 'linear-gradient(135deg, #1e3a8a 0%, #2563eb 100%)',\n                  padding: '16px 20px',\n                  borderRadius: 12,\n                  color: 'white',\n                  boxShadow: '0 4px 6px -1px rgba(37, 99, 235, 0.4)',\n                }}>\n                  <div style={{ fontSize: 12, fontWeight: '600', marginBottom: 4, opacity: 0.9 }}>\n                    🎁 DISCOUNT\n                  </div>\n                  <div style={{ fontSize: 16, fontWeight: '600' }}>\n                    {business.discount}\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Map */}\n            {business.address && (\n              <div style={{\n                borderRadius: 16,\n                overflow: 'hidden',\n                boxShadow: '0 4px 6px -1px rgba(0,0,0,0.1)',\n              }}>\n                <iframe\n                  title=\"business-map\"\n                  width=\"100%\"\n                  height=\"280\"\n                  style={{ border: 0 }}\n                  loading=\"lazy\"\n                  allowFullScreen\n                  src={`https://www.google.com/maps/embed/v1/place?key=AIzaSyDbunv4FltSPw8q9_jQJoVDrCJ7dPjsVaw&q=${encodeURIComponent(business.address)}`}\n                ></iframe>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Photo Popup */}\n      {selectedPhoto && (\n        <div \n          style={{\n            position: 'fixed',\n            inset: 0,\n            backgroundColor: 'rgba(0,0,0,0.95)',\n            backdropFilter: 'blur(10px)',\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n            zIndex: 1100,\n            padding: 20,\n            cursor: 'zoom-out',\n            animation: 'fadeIn 0.2s ease-out',\n          }}\n          onClick={() => setSelectedPhoto(null)}\n        >\n          <style>\n            {`\n              @keyframes fadeIn {\n                from { opacity: 0; }\n                to { opacity: 1; }\n              }\n            `}\n          </style>\n          <button\n            onClick={() => setSelectedPhoto(null)}\n            style={{\n              position: 'absolute',\n              right: 20,\n              top: 20,\n              background: 'rgba(255,255,255,0.95)',\n              border: 'none',\n              borderRadius: '50%',\n              width: 44,\n              height: 44,\n              fontSize: 28,\n              fontWeight: '300',\n              cursor: 'pointer',\n              color: '#333',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              zIndex: 1101,\n              boxShadow: '0 4px 12px rgba(0,0,0,0.3)',\n              transition: 'all 0.2s',\n            }}\n            onMouseEnter={(e) => {\n              e.target.style.transform = 'scale(1.1)';\n              e.target.style.background = 'white';\n            }}\n            onMouseLeave={(e) => {\n              e.target.style.transform = 'scale(1)';\n              e.target.style.background = 'rgba(255,255,255,0.95)';\n            }}\n            aria-label=\"Close photo\"\n          >\n            ×\n          </button>\n          \n          <img\n            src={selectedPhoto}\n            alt=\"Enlarged view\"\n            style={{\n              maxWidth: '90%',\n              maxHeight: '90%',\n              objectFit: 'contain',\n              borderRadius: 16,\n              boxShadow: '0 25px 50px -12px rgba(0,0,0,0.5)',\n              cursor: 'default',\n            }}\n            onClick={(e) => e.stopPropagation()}\n          />\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default BusinessProfile"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1838, "column": 0}, "map": {"version":3,"sources":["file:///Users/enderkalem/si_app%20copy/src/components/LandingPage.js"],"sourcesContent":["\"use client\"\nimport \"../../styles/LandingPage.css\" // Fixed CSS import path\n\n // Fixed image import - go up to src/, then into assets/\n\nconst logo = \"/Cartoon.PNG\" // center logo\n\nfunction LandingPage({ onLoginClick, onGetStarted }) {\n  return (\n    <div className=\"landing-container\">\n      {/* Background image */}\n      <img src=\"/bridge.jpg\" alt=\"Bridge\" className=\"landing-bg\" />\n\n\n      {/* Light blue overlay */}\n      <div className=\"landing-overlay\"></div>\n\n      {/* Top bar with login */}\n      <div className=\"landing-topbar\">\n        <button className=\"landing-login-btn\" onClick={onLoginClick}>\n          Login\n        </button>\n      </div>\n\n      {/* Centered text */}\n      <div className=\"landing-content\">\n        <h1 className=\"landing-title\">Get your place to stay & enjoy</h1>\n        <p className=\"landing-subtext\">\n          Sagittis montes ultrices ipsum tincidunt cursus facilisis neque sem. Proin elit tellus arcu et.\n        </p>\n\n        {/* Centered logo under text */}\n        <img src={logo || \"/placeholder.svg\"} alt=\"Logo\" className=\"landing-logo-center\" />\n      </div>\n\n      {/* Bottom button */}\n      <div className=\"landing-footer\">\n        <button className=\"landing-start-btn\" onClick={onGetStarted}>\n          Get started →\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default LandingPage\n"],"names":[],"mappings":";;;;;AAAA;;;AAGC,wDAAwD;AAEzD,MAAM,OAAO,eAAe,cAAc;;AAE1C,SAAS,YAAY,EAAE,YAAY,EAAE,YAAY,EAAE;IACjD,qBACE,8PAAC;QAAI,WAAU;;0BAEb,8PAAC;gBAAI,KAAI;gBAAc,KAAI;gBAAS,WAAU;;;;;;0BAI9C,8PAAC;gBAAI,WAAU;;;;;;0BAGf,8PAAC;gBAAI,WAAU;0BACb,cAAA,8PAAC;oBAAO,WAAU;oBAAoB,SAAS;8BAAc;;;;;;;;;;;0BAM/D,8PAAC;gBAAI,WAAU;;kCACb,8PAAC;wBAAG,WAAU;kCAAgB;;;;;;kCAC9B,8PAAC;wBAAE,WAAU;kCAAkB;;;;;;kCAK/B,8PAAC;wBAAI,KAAK,QAAQ;wBAAoB,KAAI;wBAAO,WAAU;;;;;;;;;;;;0BAI7D,8PAAC;gBAAI,WAAU;0BACb,cAAA,8PAAC;oBAAO,WAAU;oBAAoB,SAAS;8BAAc;;;;;;;;;;;;;;;;;AAMrE;uCAEe","debugId":null}},
    {"offset": {"line": 1947, "column": 0}, "map": {"version":3,"sources":["file:///Users/enderkalem/si_app%20copy/src/components/StatenIslandMap.js"],"sourcesContent":["// app/components/StatenIslandMap.jsx\n\"use client\"\n\nimport { useEffect, useState, useRef } from \"react\"\n\nconst StatenIslandMap = ({ businesses }) => {\n  const mapRef = useRef(null)\n  const [map, setMap] = useState(null)\n  const [isLoaded, setIsLoaded] = useState(false)\n  const [showList, setShowList] = useState(false)\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [showSuggestions, setShowSuggestions] = useState(false)\n  const [selectedSuggestionIndex, setSelectedSuggestionIndex] = useState(-1)\n  const markersRef = useRef({})\n\n  const STATEN_ISLAND_CENTER = { lat: 40.5795, lng: -74.1502 }\n\n  const filteredBusinesses = businesses.filter(\n    (business) =>\n      business.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      (business.address && business.address.toLowerCase().includes(searchTerm.toLowerCase())),\n  )\n\n  // Load Google Maps API\n  useEffect(() => {\n    const loadGoogleMaps = () => {\n      if (window.google) {\n        setIsLoaded(true)\n        return\n      }\n\n      const script = document.createElement(\"script\")\n      script.src =\n        \"https://maps.googleapis.com/maps/api/js?key=AIzaSyDbunv4FltSPw8q9_jQJoVDrCJ7dPjsVaw&libraries=places\"\n      script.async = true\n      script.defer = true\n      script.onload = () => setIsLoaded(true)\n      document.head.appendChild(script)\n    }\n\n    loadGoogleMaps()\n  }, [])\n\n  // Init map\n  useEffect(() => {\n    if (!isLoaded || !mapRef.current || !window.google) return\n\n    const mapInstance = new window.google.maps.Map(mapRef.current, {\n      center: STATEN_ISLAND_CENTER,\n      zoom: 11,\n      mapTypeId: window.google.maps.MapTypeId.ROADMAP,\n      styles: [\n        {\n          featureType: \"poi\",\n          elementType: \"labels\",\n          stylers: [{ visibility: \"off\" }],\n        },\n      ],\n    })\n\n    setMap(mapInstance)\n  }, [isLoaded])\n\n  // Add markers\n  useEffect(() => {\n    if (!map || !businesses?.length || !window.google) return\n\n    const markers = []\n    markersRef.current = {}\n\n    businesses.forEach(async (business) => {\n      let lat = business.latitude ? Number.parseFloat(business.latitude) : null\n      let lng = business.longitude ? Number.parseFloat(business.longitude) : null\n\n      if ((!lat || !lng) && business.address) {\n        try {\n          const geocoder = new window.google.maps.Geocoder()\n          const result = await new Promise((resolve, reject) => {\n            geocoder.geocode({ address: `${business.address}, Staten Island, NY` }, (results, status) => {\n              if (status === \"OK\" && results?.length) resolve(results[0])\n              else reject(status)\n            })\n          })\n          lat = result.geometry.location.lat()\n          lng = result.geometry.location.lng()\n        } catch (error) {\n          console.error(\"Geocoding failed for:\", business.address, error)\n          return\n        }\n      }\n\n      if (!lat || !lng) return\n\n      const marker = new window.google.maps.Marker({\n        position: { lat, lng },\n        map,\n        title: business.name,\n        icon: {\n          url: \"http://maps.google.com/mapfiles/ms/icons/red-dot.png\",\n          scaledSize: new window.google.maps.Size(32, 32),\n        },\n      })\n\n      const infoWindow = new window.google.maps.InfoWindow({\n        content: `\n          <div style=\"padding:8px; font-family:sans-serif; min-width:220px;\">\n            <div style=\"display:flex; align-items:center; gap:12px;\">\n              <img\n                src=\"${business.logo_url || \"/placeholder.svg\"}\"\n                alt=\"${business.name}\"\n                style=\"width:60px; height:60px; border-radius:8px; object-fit:cover;\"\n              />\n              <div>\n                <div style=\"font-weight:bold; margin-bottom:4px; font-size:15px;\">\n                  ${business.name}\n                </div>\n                ${\n                  business.address\n                    ? `<a href=\"https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(\n                        business.address,\n                      )}\" target=\"_blank\" rel=\"noopener noreferrer\"\n                         style=\"color:#2563eb; text-decoration:underline; font-size:13px;\">\n                         ${business.address}\n                       </a>`\n                    : \"\"\n                }\n              </div>\n            </div>\n          </div>\n        `,\n      })\n\n      marker.addListener(\"click\", () => {\n        infoWindow.open(map, marker)\n      })\n\n      markers.push(marker)\n      markersRef.current[business.id] = { marker, infoWindow }\n    })\n\n    return () => markers.forEach((m) => m.setMap(null))\n  }, [map, businesses])\n\n  // Jump to business\n  const handleBusinessClick = (biz) => {\n    let lat = biz.latitude ? Number.parseFloat(biz.latitude) : null\n    let lng = biz.longitude ? Number.parseFloat(biz.longitude) : null\n\n    if (!lat || !lng) {\n      const entry = markersRef.current[biz.id]\n      if (entry) {\n        const pos = entry.marker.getPosition()\n        lat = pos.lat()\n        lng = pos.lng()\n      }\n    }\n\n    if (lat && lng) {\n      const streetViewUrl = `https://www.google.com/maps/@?api=1&map_action=pano&viewpoint=${lat},${lng}`\n      window.location.href = streetViewUrl\n      return\n    }\n\n    alert(\"This is a mobile Business.\")\n  }\n\n  const handleSuggestionSelect = (business) => {\n    setSearchTerm(business.name)\n    setShowSuggestions(false)\n    setSelectedSuggestionIndex(-1)\n    handleBusinessClick(business)\n  }\n\n  const handleSearchChange = (e) => {\n    const value = e.target.value\n    setSearchTerm(value)\n    setShowSuggestions(value.length > 0)\n    setSelectedSuggestionIndex(-1)\n  }\n\n  const handleSearchKeyDown = (e) => {\n    if (!showSuggestions || filteredBusinesses.length === 0) return\n\n    if (e.key === \"ArrowDown\") {\n      e.preventDefault()\n      setSelectedSuggestionIndex((prev) => (prev < filteredBusinesses.length - 1 ? prev + 1 : 0))\n    } else if (e.key === \"ArrowUp\") {\n      e.preventDefault()\n      setSelectedSuggestionIndex((prev) => (prev > 0 ? prev - 1 : filteredBusinesses.length - 1))\n    } else if (e.key === \"Enter\") {\n      e.preventDefault()\n      if (selectedSuggestionIndex >= 0) {\n        handleSuggestionSelect(filteredBusinesses[selectedSuggestionIndex])\n      } else if (filteredBusinesses.length > 0) {\n        handleSuggestionSelect(filteredBusinesses[0])\n      }\n    } else if (e.key === \"Escape\") {\n      setShowSuggestions(false)\n      setSelectedSuggestionIndex(-1)\n    }\n  }\n\n  return (\n    <div style={{ height: \"100%\", width: \"100%\", position: \"relative\" }}>\n      <div\n        style={{\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          right: 0,\n          background: \"linear-gradient(135deg, #1e3a8a 0%, #2563eb 100%)\",\n          padding: \"24px 20px\",\n          borderBottomLeftRadius: 20,\n          borderBottomRightRadius: 20,\n          zIndex: 1000,\n          boxShadow: \"0 2px 8px rgba(0,0,0,0.15)\",\n        }}\n      >\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            gap: \"12px\",\n            maxWidth: \"1200px\",\n            margin: \"0 auto\",\n            flexWrap: \"wrap\",\n            position: \"relative\",\n          }}\n        >\n          <div\n            style={{\n              display: \"flex\",\n              alignItems: \"center\",\n              background: \"rgba(255, 255, 255, 0.95)\",\n              backdropFilter: \"blur(10px)\",\n              borderRadius: 16,\n              padding: \"14px 18px\",\n              boxShadow: \"0 4px 12px rgba(0,0,0,0.1)\",\n              flex: 1,\n              minWidth: \"200px\",\n              position: \"relative\",\n              transition: \"all 0.3s ease\",\n            }}\n          >\n            <span style={{ color: \"#6b7280\", marginRight: 12, fontSize: \"1.1rem\" }}>🔍</span>\n            <input\n              type=\"text\"\n              placeholder=\"Search businesses...\"\n              value={searchTerm}\n              onChange={handleSearchChange}\n              onKeyDown={handleSearchKeyDown}\n              onFocus={() => searchTerm.length > 0 && setShowSuggestions(true)}\n              onBlur={() => setTimeout(() => setShowSuggestions(false), 200)}\n              style={{\n                border: \"none\",\n                outline: \"none\",\n                flex: 1,\n                fontSize: 15,\n                fontWeight: \"400\",\n                color: \"#111827\",\n                background: \"transparent\",\n              }}\n            />\n\n            {showSuggestions && filteredBusinesses.length > 0 && (\n              <div\n                style={{\n                  position: \"absolute\",\n                  top: \"100%\",\n                  left: 0,\n                  right: 0,\n                  background: \"white\",\n                  borderRadius: \"0 0 12px 12px\",\n                  boxShadow: \"0 4px 12px rgba(0,0,0,0.15)\",\n                  maxHeight: \"300px\",\n                  overflowY: \"auto\",\n                  zIndex: 1001,\n                  marginTop: \"2px\",\n                }}\n              >\n                {filteredBusinesses.slice(0, 8).map((business, index) => (\n                  <div\n                    key={business.id}\n                    onClick={() => handleSuggestionSelect(business)}\n                    style={{\n                      padding: \"12px 14px\",\n                      cursor: \"pointer\",\n                      borderBottom: index < Math.min(filteredBusinesses.length, 8) - 1 ? \"1px solid #f3f4f6\" : \"none\",\n                      background: selectedSuggestionIndex === index ? \"#f8fafc\" : \"white\",\n                      transition: \"background 0.1s\",\n                    }}\n                    onMouseEnter={() => setSelectedSuggestionIndex(index)}\n                  >\n                    <div style={{ fontWeight: \"500\", fontSize: \"14px\", color: \"#1f2937\", marginBottom: \"2px\" }}>\n                      {business.name}\n                    </div>\n                    {business.address && <div style={{ fontSize: \"12px\", color: \"#6b7280\" }}>{business.address}</div>}\n                  </div>\n                ))}\n                {filteredBusinesses.length > 8 && (\n                  <div\n                    style={{\n                      padding: \"8px 14px\",\n                      fontSize: \"12px\",\n                      color: \"#6b7280\",\n                      textAlign: \"center\",\n                      background: \"#f9fafb\",\n                    }}\n                  >\n                    +{filteredBusinesses.length - 8} more results\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n\n          <button\n            onClick={() => setShowList(!showList)}\n            style={{\n              background: showList ? \"#3b82f6\" : \"rgba(255,255,255,0.2)\",\n              border: \"1px solid rgba(255,255,255,0.3)\",\n              color: \"white\",\n              padding: \"10px 16px\",\n              borderRadius: 12,\n              cursor: \"pointer\",\n              fontSize: \"15px\",\n              fontWeight: \"500\",\n              transition: \"all 0.2s\",\n              whiteSpace: \"nowrap\",\n              flexShrink: 0,\n              boxShadow: \"0 2px 6px rgba(0,0,0,0.15)\",\n            }}\n            onMouseEnter={(e) => {\n              if (!showList) {\n                e.currentTarget.style.backgroundColor = \"rgba(255,255,255,0.3)\"\n              }\n            }}\n            onMouseLeave={(e) => {\n              if (!showList) {\n                e.currentTarget.style.backgroundColor = \"rgba(255,255,255,0.2)\"\n              }\n            }}\n          >\n            {showList ? \"Hide List\" : \"Show List\"}\n          </button>\n        </div>\n      </div>\n\n      <div\n        ref={mapRef}\n        style={{\n          height: \"100%\",\n          width: \"100%\",\n          paddingTop: \"88px\",\n        }}\n      />\n\n      {!isLoaded && (\n        <div\n          style={{\n            position: \"absolute\",\n            top: \"88px\",\n            left: 0,\n            right: 0,\n            bottom: 0,\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            backgroundColor: \"#f9fafb\",\n            color: \"#6b7280\",\n          }}\n        >\n          <div style={{ textAlign: \"center\" }}>\n            <div\n              style={{\n                width: 40,\n                height: 40,\n                border: \"4px solid #e5e7eb\",\n                borderTop: \"4px solid #3b82f6\",\n                borderRadius: \"50%\",\n                animation: \"spin 1s linear infinite\",\n                margin: \"0 auto 16px\",\n              }}\n            />\n            <p>Loading Staten Island Map...</p>\n          </div>\n        </div>\n      )}\n\n      {showList && (\n        <div\n          style={{\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            background: \"rgba(0,0,0,0.5)\",\n            zIndex: 2000,\n            display: \"flex\",\n            alignItems: \"flex-start\",\n            justifyContent: \"center\",\n            paddingTop: \"20px\",\n          }}\n          onClick={() => setShowList(false)}\n        >\n          <div\n            style={{\n              background: \"white\",\n              borderRadius: \"16px\",\n              boxShadow: \"0 20px 40px rgba(0,0,0,0.3)\",\n              maxHeight: \"80vh\",\n              width: \"90%\",\n              maxWidth: \"400px\",\n              overflow: \"hidden\",\n              animation: \"slideDown 0.3s ease-out\",\n            }}\n            onClick={(e) => e.stopPropagation()}\n          >\n            {/* Header */}\n            <div\n              style={{\n                background: \"#1e3a8a\",\n                color: \"white\",\n                padding: \"20px\",\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                alignItems: \"center\",\n              }}\n            >\n              <div style={{ fontWeight: \"600\", fontSize: \"18px\" }}>\n                {filteredBusinesses.length}  Businesses\n              </div>\n              <button\n                onClick={() => setShowList(false)}\n                style={{\n                  background: \"rgba(255,255,255,0.2)\",\n                  border: \"none\",\n                  color: \"white\",\n                  borderRadius: \"50%\",\n                  width: \"32px\",\n                  height: \"32px\",\n                  cursor: \"pointer\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                  fontSize: \"16px\",\n                  transition: \"background 0.2s\",\n                }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.backgroundColor = \"rgba(255,255,255,0.3)\"\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.backgroundColor = \"rgba(255,255,255,0.2)\"\n                }}\n              >\n                ✕\n              </button>\n            </div>\n\n            {/* Business List */}\n            <div\n              style={{\n                padding: \"16px\",\n                maxHeight: \"60vh\",\n                overflowY: \"auto\",\n                WebkitOverflowScrolling: \"touch\",\n              }}\n            >\n              {filteredBusinesses.map((biz) => (\n                <div\n                  key={biz.id}\n                  onClick={() => handleBusinessClick(biz)}\n                  style={{\n                    padding: \"16px\",\n                    marginBottom: \"12px\",\n                    borderRadius: \"12px\",\n                    cursor: \"pointer\",\n                    transition: \"all 0.2s\",\n                    border: \"1px solid #f3f4f6\",\n                    background: \"white\",\n                  }}\n                  onMouseEnter={(e) => {\n                    e.currentTarget.style.background = \"#f8fafc\"\n                    e.currentTarget.style.transform = \"translateY(-2px)\"\n                    e.currentTarget.style.boxShadow = \"0 4px 12px rgba(0,0,0,0.1)\"\n                  }}\n                  onMouseLeave={(e) => {\n                    e.currentTarget.style.background = \"white\"\n                    e.currentTarget.style.transform = \"translateY(0)\"\n                    e.currentTarget.style.boxShadow = \"none\"\n                  }}\n                >\n                  <div style={{ fontWeight: \"600\", fontSize: \"16px\", marginBottom: \"6px\", color: \"#1f2937\" }}>\n                    {biz.name}\n                  </div>\n                  {biz.address && <div style={{ fontSize: \"14px\", color: \"#6b7280\" }}>{biz.address}</div>}\n                </div>\n              ))}\n\n              {filteredBusinesses.length === 0 && searchTerm && (\n                <div\n                  style={{\n                    padding: \"40px 24px\",\n                    textAlign: \"center\",\n                    color: \"#6b7280\",\n                    fontSize: \"16px\",\n                  }}\n                >\n                  No businesses found matching \"{searchTerm}\"\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      <style jsx>{`\n        @keyframes slideDown {\n          from {\n            opacity: 0;\n            transform: translateY(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n      `}</style>\n\n      {/* ✅ Global overrides to remove excess whitespace in InfoWindow */}\n      <style jsx global>{`\n        .gm-style-iw {\n          padding-top: 0 !important;\n          top: 0 !important;\n        }\n        .gm-ui-hover-effect {\n          top: 4px !important;\n          right: 4px !important;\n        }\n        .gm-ui-hover-effect > img {\n          width: 12px !important;\n          height: 12px !important;\n        }\n      `}</style>\n    </div>\n  )\n}\n\nexport default StatenIslandMap"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2637, "column": 0}, "map": {"version":3,"sources":["file:///Users/enderkalem/si_app%20copy/src/components/ProfileAndPayment.js"],"sourcesContent":["// ProfileAndPayment.js\nimport React from \"react\"\n\nfunction ProfileAndPayment({\n  session, // ADD THIS - it was missing!\n  email,\n  displayName,\n  editingName,\n  setEditingName,\n  onSaveName,\n  isSaving,\n  saveStatus,\n  onLogout,\n}) {\n  // Check if user is premium from session metadata\n  const isPremium = session?.user?.user_metadata?.is_premium === true\n  const isFreeTrial = !isPremium\n\n  const handleUpgrade = async () => {\n    // Add safety check for session\n    if (!session?.user?.id || !session?.user?.email) {\n      alert(\"Please sign in to upgrade to premium.\")\n      return\n    }\n\n    try {\n      const res = await fetch(\"/api/create-checkout-session\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          userId: session.user.id,\n          email: session.user.email,\n        }),\n      })\n\n      if (!res.ok) {\n        throw new Error(\"Failed to create checkout session\")\n      }\n\n      const data = await res.json()\n      \n      if (data.url) {\n        window.location.href = data.url\n      } else {\n        throw new Error(\"No checkout URL received\")\n      }\n    } catch (error) {\n      console.error(\"Error upgrading:\", error)\n      alert(\"Error upgrading to premium. Please try again.\")\n    }\n  }\n\n  return (\n    <div className=\"profile-container\">\n      {/* Header */}\n      <div className=\"profile-header\">\n        <h1 className=\"profile-title\">Account Settings</h1>\n      </div>\n\n      {/* Display Name Section */}\n      <div className=\"profile-section\">\n        <h3 className=\"section-title\">Display Name</h3>\n        <div className=\"display-name-input-group\">\n          <input\n            type=\"text\"\n            value={editingName}\n            onChange={(e) => setEditingName(e.target.value)}\n            placeholder=\"Enter your display name\"\n            className=\"display-name-input\"\n          />\n          <button\n            onClick={onSaveName}\n            disabled={isSaving}\n            className=\"save-button\"\n          >\n            {isSaving ? '...' : 'Save'}\n          </button>\n        </div>\n        {saveStatus === \"success\" && (\n          <div className=\"save-status success\">\n            <span>✓</span> Saved successfully\n          </div>\n        )}\n        {saveStatus === \"error\" && (\n          <div className=\"save-status error\">\n            <span>✗</span> Failed to save\n          </div>\n        )}\n      </div>\n\n      {/* Subscription Section */}\n      <div className=\"profile-section\">\n        <h3 className=\"section-title\">Subscription & Payment</h3>\n        <div className=\"subscription-card\">\n          <div className=\"subscription-header\">\n            <span className=\"subscription-label\">Current Plan</span>\n            <span className=\"subscription-plan\">\n              {isPremium ? \"Premium\" : \"Free Trial\"}\n            </span>\n          </div>\n          <div className=\"subscription-description\">\n            {isPremium \n              ? \"You have access to all premium features\"\n              : \"Manage your subscription and billing information\"\n            }\n          </div>\n          {!isPremium && (\n            <button\n              onClick={handleUpgrade}\n              className=\"upgrade-button\"\n            >\n              Upgrade Plan\n            </button>\n          )}\n        </div>\n\n        {/* Premium Features Preview */}\n        {isFreeTrial && (\n          <div className=\"premium-preview\">\n            <h4 className=\"premium-title\">Unlock Premium Features:</h4>\n            <ul className=\"premium-features\">\n              <li><span className=\"checkmark\">✓</span> Unlimited access to all tools</li>\n              <li><span className=\"checkmark\">✓</span> Priority support</li>\n              <li><span className=\"checkmark\">✓</span> Advanced analytics</li>\n              <li><span className=\"checkmark\">✓</span> Early access to new features</li>\n            </ul>\n          </div>\n        )}\n      </div>\n\n      {/* Sign Out Button */}\n      <button onClick={onLogout} className=\"signout-button\">\n        Sign Out\n      </button>\n    </div>\n  )\n}\n\nexport default ProfileAndPayment"],"names":[],"mappings":"AAAA,uBAAuB;;;;;;AACvB;;;AAEA,SAAS,kBAAkB,EACzB,OAAO,EACP,KAAK,EACL,WAAW,EACX,WAAW,EACX,cAAc,EACd,UAAU,EACV,QAAQ,EACR,UAAU,EACV,QAAQ,EACT;IACC,iDAAiD;IACjD,MAAM,YAAY,SAAS,MAAM,eAAe,eAAe;IAC/D,MAAM,cAAc,CAAC;IAErB,MAAM,gBAAgB;QACpB,+BAA+B;QAC/B,IAAI,CAAC,SAAS,MAAM,MAAM,CAAC,SAAS,MAAM,OAAO;YAC/C,MAAM;YACN;QACF;QAEA,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,gCAAgC;gBACtD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,QAAQ,QAAQ,IAAI,CAAC,EAAE;oBACvB,OAAO,QAAQ,IAAI,CAAC,KAAK;gBAC3B;YACF;YAEA,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAE3B,IAAI,KAAK,GAAG,EAAE;gBACZ,OAAO,QAAQ,CAAC,IAAI,GAAG,KAAK,GAAG;YACjC,OAAO;gBACL,MAAM,IAAI,MAAM;YAClB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,oBAAoB;YAClC,MAAM;QACR;IACF;IAEA,qBACE,8PAAC;QAAI,WAAU;;0BAEb,8PAAC;gBAAI,WAAU;0BACb,cAAA,8PAAC;oBAAG,WAAU;8BAAgB;;;;;;;;;;;0BAIhC,8PAAC;gBAAI,WAAU;;kCACb,8PAAC;wBAAG,WAAU;kCAAgB;;;;;;kCAC9B,8PAAC;wBAAI,WAAU;;0CACb,8PAAC;gCACC,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;gCAC9C,aAAY;gCACZ,WAAU;;;;;;0CAEZ,8PAAC;gCACC,SAAS;gCACT,UAAU;gCACV,WAAU;0CAET,WAAW,QAAQ;;;;;;;;;;;;oBAGvB,eAAe,2BACd,8PAAC;wBAAI,WAAU;;0CACb,8PAAC;0CAAK;;;;;;4BAAQ;;;;;;;oBAGjB,eAAe,yBACd,8PAAC;wBAAI,WAAU;;0CACb,8PAAC;0CAAK;;;;;;4BAAQ;;;;;;;;;;;;;0BAMpB,8PAAC;gBAAI,WAAU;;kCACb,8PAAC;wBAAG,WAAU;kCAAgB;;;;;;kCAC9B,8PAAC;wBAAI,WAAU;;0CACb,8PAAC;gCAAI,WAAU;;kDACb,8PAAC;wCAAK,WAAU;kDAAqB;;;;;;kDACrC,8PAAC;wCAAK,WAAU;kDACb,YAAY,YAAY;;;;;;;;;;;;0CAG7B,8PAAC;gCAAI,WAAU;0CACZ,YACG,4CACA;;;;;;4BAGL,CAAC,2BACA,8PAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;;;;;;;oBAOJ,6BACC,8PAAC;wBAAI,WAAU;;0CACb,8PAAC;gCAAG,WAAU;0CAAgB;;;;;;0CAC9B,8PAAC;gCAAG,WAAU;;kDACZ,8PAAC;;0DAAG,8PAAC;gDAAK,WAAU;0DAAY;;;;;;4CAAQ;;;;;;;kDACxC,8PAAC;;0DAAG,8PAAC;gDAAK,WAAU;0DAAY;;;;;;4CAAQ;;;;;;;kDACxC,8PAAC;;0DAAG,8PAAC;gDAAK,WAAU;0DAAY;;;;;;4CAAQ;;;;;;;kDACxC,8PAAC;;0DAAG,8PAAC;gDAAK,WAAU;0DAAY;;;;;;4CAAQ;;;;;;;;;;;;;;;;;;;;;;;;;0BAOhD,8PAAC;gBAAO,SAAS;gBAAU,WAAU;0BAAiB;;;;;;;;;;;;AAK5D;uCAEe","debugId":null}},
    {"offset": {"line": 2963, "column": 0}, "map": {"version":3,"sources":["file:///Users/enderkalem/si_app%20copy/app/page.js"],"sourcesContent":["\"use client\"\nimport { useState, useEffect } from \"react\"\nimport { CompassFill, GeoAltFill, PersonFill } from \"react-bootstrap-icons\"\nimport { initializeApp, getApps, getApp } from \"firebase/app\"\nimport { getMessaging, getToken, onMessage } from \"firebase/messaging\"\nimport Image from \"next/image\"\n\nconst logo = \"/Cartoon.PNG\"\n\nimport \"../styles/App.css\"\nimport Auth from \"../src/components/Auth\"\nimport { supabase } from \"../src/supabaseClient\"\nimport MembershipCard from \"../src/components/MembershipCard\"\nimport BusinessForm from \"../src/components/BusinessForm\"\nimport BusinessProfile from \"../src/components/BusinessProfile\"\nimport LandingPage from \"../src/components/LandingPage\"\nimport StatenIslandMap from \"../src/components/StatenIslandMap\"\nimport ProfileAndPayment from \"../src/components/ProfileAndPayment\"\n\n// Firebase configuration - REPLACE WITH YOUR CONFIG\nconst firebaseConfig = {\n  apiKey: \"AIzaSyC5NjB_yv61XLqCOazv8WVDooBVDmvQWC8\",\n  authDomain: \"si-app-be948.firebaseapp.com\",\n  projectId: \"si-app-be948\",\n  storageBucket: \"si-app-be948.firebasestorage.app\",\n  messagingSenderId: \"959224695369\",\n  appId: \"1:959224695369:web:96fd41e33c3c60b201cd98\",\n  measurementId: \"G-GK9X2XXJ9P\",\n}\n\n// OPTIMIZED IMAGE COMPONENT - LOADS ALL AT ONCE\nfunction OptimizedImage({ src, alt, className, onClick }) {\n  const [isLoading, setIsLoading] = useState(true)\n\n  return (\n    <div style={{ position: \"relative\", overflow: \"hidden\", borderRadius: \"8px\" }}>\n      <img\n        src={src || \"/placeholder.svg\"}\n        alt={alt}\n        className={className}\n        onClick={onClick}\n        onLoad={() => setIsLoading(false)}\n        style={{\n          opacity: isLoading ? 0.7 : 1,\n          transition: \"opacity 0.3s ease-in-out\",\n          backgroundColor: \"#f0f0f0\",\n        }}\n      />\n    </div>\n  )\n}\n\nasync function compressImage(file) {\n  return new Promise((resolve) => {\n    const reader = new FileReader()\n    reader.onload = (e) => {\n      const img = new Image()\n      img.onload = () => {\n        const canvas = document.createElement(\"canvas\")\n        const ctx = canvas.getContext(\"2d\")\n\n        let width = img.width\n        let height = img.height\n        const maxWidth = 1200\n        const maxHeight = 1200\n\n        if (width > height) {\n          if (width > maxWidth) {\n            height *= maxWidth / width\n            width = maxWidth\n          }\n        } else {\n          if (height > maxHeight) {\n            width *= maxHeight / height\n            height = maxHeight\n          }\n        }\n\n        canvas.width = width\n        canvas.height = height\n        ctx.drawImage(img, 0, 0, width, height)\n\n        canvas.toBlob((blob) => resolve(blob), \"image/jpeg\", 0.85)\n      }\n      img.src = e.target.result\n    }\n    reader.readAsDataURL(file)\n  })\n}\n\nconst uploadBusinessPhotos = async (businessId, files) => {\n  if (!files || files.length === 0) return []\n\n  try {\n    console.log(\"Starting photo upload for business ID:\", businessId)\n\n    const { data: existingBusiness, error: checkError } = await supabase\n      .from(\"businesses\")\n      .select(\"id, name, photo_urls\")\n      .eq(\"id\", businessId)\n      .maybeSingle()\n\n    if (!existingBusiness) {\n      console.error(\"Business not found\")\n      alert(\"Error: Business not found\")\n      return []\n    }\n\n    const uploadedUrls = []\n\n    for (let i = 0; i < files.length; i++) {\n      const file = files[i]\n      console.log(`Compressing photo ${i + 1}/${files.length}...`)\n\n      const compressedBlob = await compressImage(file)\n      const compressedFile = new File([compressedBlob], file.name, { type: \"image/jpeg\" })\n\n      const fileExt = \"jpg\"\n      const fileName = `${businessId}-${Date.now()}-${i}.${fileExt}`\n      const filePath = fileName\n\n      console.log(`Uploading photo ${i + 1}/${files.length} to business-logos bucket:`, filePath)\n\n      const { error: uploadError, data: uploadData } = await supabase.storage\n        .from(\"business-logos\")\n        .upload(filePath, compressedFile, {\n          upsert: true,\n          cacheControl: \"31536000\",\n        })\n\n      if (uploadError) {\n        console.error(`Upload error for photo ${i + 1}:`, uploadError)\n        continue\n      }\n\n      console.log(`Upload ${i + 1} successful:`, uploadData)\n\n      const { data: urlData } = supabase.storage.from(\"business-logos\").getPublicUrl(filePath)\n\n      if (urlData?.publicUrl) {\n        uploadedUrls.push(urlData.publicUrl)\n      }\n    }\n\n    if (uploadedUrls.length === 0) {\n      alert(\"No photos were uploaded successfully\")\n      return []\n    }\n\n    const currentPhotos = existingBusiness.photo_urls || []\n    const updatedPhotos = [...currentPhotos, ...uploadedUrls]\n\n    const { error: updateError, data: updatedBusiness } = await supabase\n      .from(\"businesses\")\n      .update({ photo_urls: updatedPhotos })\n      .eq(\"id\", businessId)\n      .select()\n\n    if (updateError) {\n      console.error(\"Database update error:\", updateError)\n      alert(\"Failed to update database: \" + updateError.message)\n      return []\n    }\n\n    console.log(\"Database updated successfully with new photos\")\n    alert(`${uploadedUrls.length} photo(s) uploaded successfully!`)\n\n    return uploadedUrls\n  } catch (error) {\n    console.error(\"Error uploading photos:\", error)\n    alert(\"Error: \" + error.message)\n    return []\n  }\n}\n\nasync function compressAndUploadImage(file) {\n  return new Promise((resolve) => {\n    const reader = new FileReader()\n    reader.onload = (e) => {\n      const img = new Image()\n      img.onload = () => {\n        const canvas = document.createElement(\"canvas\")\n        const ctx = canvas.getContext(\"2d\")\n\n        let width = img.width\n        let height = img.height\n        const maxWidth = 800\n        const maxHeight = 800\n\n        if (width > height) {\n          if (width > maxWidth) {\n            height *= maxWidth / width\n            width = maxWidth\n          }\n        } else {\n          if (height > maxHeight) {\n            width *= maxHeight / height\n            height = maxHeight\n          }\n        }\n\n        canvas.width = width\n        canvas.height = height\n        ctx.drawImage(img, 0, 0, width, height)\n\n        canvas.toBlob((blob) => resolve(blob), \"image/jpeg\", 0.8)\n      }\n      img.src = e.target.result\n    }\n    reader.readAsDataURL(file)\n  })\n}\n\nfunction App() {\n  const [showSplash, setShowSplash] = useState(true)\n  const [session, setSession] = useState(null)\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [businesses, setBusinesses] = useState([])\n  const [justSignedUp, setJustSignedUp] = useState(false)\n  const [selectedBusiness, setSelectedBusiness] = useState(null)\n  const [showLanding, setShowLanding] = useState(false)\n  const [zipSearch, setZipSearch] = useState(\"\")\n  const [isMobile, setIsMobile] = useState(false)\n  const [showRegister, setShowRegister] = useState(false)\n  const [shouldShake, setShouldShake] = useState(false)\n  const [showFilters, setShowFilters] = useState(false)\n  const [displayName, setDisplayName] = useState(\"\")\n  const [editingName, setEditingName] = useState(\"\")\n  const [avatarUrl, setAvatarUrl] = useState(\"\")\n  const [isSaving, setIsSaving] = useState(false)\n  const [saveStatus, setSaveStatus] = useState(null)\n  const [uploading, setUploading] = useState(false)\n  const [userFcmToken, setUserFcmToken] = useState(null)\n  const [selectedBusinessId, setSelectedBusinessId] = useState(null)\n  const [mapPanTo, setMapPanTo] = useState(null)\n  const [sortBy, setSortBy] = useState(\"\")\n  const [tags, setTags] = useState([])\n  const [newTag, setNewTag] = useState(\"\")\n  const [categoryFilter, setCategoryFilter] = useState(\"\")\n  const [zipFilter, setZipFilter] = useState(\"\")\n  const [tagFilter, setTagFilter] = useState(\"\")\n  const [isAdmin, setIsAdmin] = useState(false)\n\n  const isPremium = session?.user?.user_metadata?.is_premium === true\n\n  const [selectedNav, setSelectedNav] = useState(\"Highlighted Business\")\n\n  const navItems = [\n    { label: \"Highlighted Business\", icon: CompassFill },\n    { label: \"Map\", icon: GeoAltFill },\n    ...(isPremium ? [{ label: \"Display My Card\", icon: PersonFill }] : []),\n    { label: \"Profile and Payment\", icon: PersonFill },\n  ]\n\n  useEffect(() => {\n    const initializeFirebase = async () => {\n      try {\n        let app\n        if (getApps().length === 0) {\n          app = initializeApp(firebaseConfig)\n          console.log(\"Firebase app initialized\")\n        } else {\n          app = getApp()\n          console.log(\"Firebase app already exists\")\n        }\n\n        const messaging = getMessaging(app)\n\n        const permission = await Notification.requestPermission()\n        if (permission === \"granted\") {\n          console.log(\"Notification permission granted\")\n\n          const token = await getToken(messaging, {\n            vapidKey: \"BOgqakg5aBxNszM1Ji6H4ADnNMtexhho5CWWpijJqNxdyD8MtYGSc7ZX3yRz2ybsVs8YIHKi_NZ0mz8zAQ25lQk\",\n          })\n\n          if (token) {\n            console.log(\"FCM Token:\", token)\n            handleFcmTokenReceived(token)\n          } else {\n            console.log(\"No FCM token received\")\n          }\n        } else {\n          console.log(\"Notification permission denied\")\n        }\n\n        onMessage(messaging, (payload) => {\n          console.log(\"Message received in foreground:\", payload)\n          if (payload.notification) {\n            new Notification(payload.notification.title, {\n              body: payload.notification.body,\n              icon: payload.notification.icon,\n            })\n          }\n        })\n      } catch (error) {\n        console.error(\"Error initializing Firebase messaging:\", error)\n      }\n    }\n\n    initializeFirebase()\n  }, [])\n\n  useEffect(() => {\n    if (session?.user?.email) {\n      const adminEmails = [\"serkankalem99@gmail.com\"]\n      setIsAdmin(adminEmails.includes(session.user.email.toLowerCase()))\n    }\n  }, [session])\n\n  const getBusinessImage = (business, size = \"small\") => {\n    if (\n      business.logo_url &&\n      business.logo_url.trim() !== \"\" &&\n      business.logo_url !== \"/placeholder.svg\" &&\n      !business.logo_url.includes(\"placeholder\")\n    ) {\n      const sizes = {\n        small: { width: 200, height: 200, quality: 75 },\n        medium: { width: 300, height: 300, quality: 80 },\n        large: { width: 500, height: 500, quality: 85 },\n      }\n      const sizeParams = sizes[size] || sizes.small\n\n      return `${business.logo_url}?width=${sizeParams.width}&height=${sizeParams.height}&quality=${sizeParams.quality}&format=webp`\n    }\n    return \"/placeholder.svg\"\n  }\n\n  const uploadBusinessLogo = async (businessId, file) => {\n    if (!file) return null\n\n    try {\n      console.log(\"Starting upload for business ID:\", businessId)\n      console.log(\"Business ID type:\", typeof businessId)\n\n      const { data: existingBusiness, error: checkError } = await supabase\n        .from(\"businesses\")\n        .select(\"id, name\")\n        .eq(\"id\", businessId)\n        .maybeSingle()\n\n      console.log(\"Business lookup result:\", existingBusiness)\n      console.log(\"Business lookup error:\", checkError)\n\n      if (!existingBusiness) {\n        console.error(\"Business not found in database with ID:\", businessId)\n        alert(\"Error: Cannot find business in database. ID might be incorrect.\")\n        return null\n      }\n\n      console.log(\"Compressing image...\")\n      const compressedBlob = await compressAndUploadImage(file)\n      const compressedFile = new File([compressedBlob], file.name, { type: \"image/jpeg\" })\n\n      const fileExt = \"jpg\"\n      const fileName = `${businessId}-${Date.now()}.${fileExt}`\n      const filePath = fileName\n\n      console.log(\"Uploading to business-logos bucket:\", filePath)\n\n      const { error: uploadError, data: uploadData } = await supabase.storage\n        .from(\"business-logos\")\n        .upload(filePath, compressedFile, {\n          upsert: true,\n          cacheControl: \"31536000\",\n        })\n\n      if (uploadError) {\n        console.error(\"Upload error:\", uploadError)\n        alert(\"Upload failed: \" + uploadError.message)\n        return null\n      }\n\n      console.log(\"Upload successful:\", uploadData)\n\n      const { data: urlData } = supabase.storage.from(\"business-logos\").getPublicUrl(filePath)\n\n      if (!urlData?.publicUrl) {\n        console.error(\"Failed to get public URL\")\n        return null\n      }\n\n      console.log(\"Public URL:\", urlData.publicUrl)\n\n      const { error: updateError, data: updatedBusiness } = await supabase\n        .from(\"businesses\")\n        .update({ logo_url: urlData.publicUrl })\n        .eq(\"id\", businessId)\n        .select()\n\n      if (updateError) {\n        console.error(\"Database update error:\", updateError)\n        alert(\"Failed to update database: \" + updateError.message)\n        return null\n      }\n\n      console.log(\"Database updated successfully:\", updatedBusiness)\n\n      if (!updatedBusiness || updatedBusiness.length === 0) {\n        console.error(\"No business found with ID:\", businessId)\n        alert(\"Error: Business not found in database\")\n        return null\n      }\n\n      alert(\"Logo uploaded successfully!\")\n\n      return urlData.publicUrl\n    } catch (error) {\n      console.error(\"Error uploading logo:\", error)\n      alert(\"Error: \" + error.message)\n      return null\n    }\n  }\n\n  const handleLogoUpload = async (businessId, file) => {\n    if (!file) return\n\n    setBusinesses((prev) => prev.map((biz) => (biz.id === businessId ? { ...biz, uploading: true } : biz)))\n\n    const logoUrl = await uploadBusinessLogo(businessId, file)\n\n    if (logoUrl) {\n      setBusinesses((prev) =>\n        prev.map((biz) => (biz.id === businessId ? { ...biz, logo_url: logoUrl, uploading: false } : biz)),\n      )\n      await fetchBusinesses()\n    } else {\n      setBusinesses((prev) => prev.map((biz) => (biz.id === businessId ? { ...biz, uploading: false } : biz)))\n    }\n  }\n\n  const handleNavClick = (label) => {\n    if (label === \"Display My Card\") {\n      setShouldShake(true)\n      setTimeout(() => setShouldShake(false), 600)\n    }\n    setSelectedNav(label)\n  }\n\n  const handleBusinessSelect = (e) => {\n    const businessId = e.target.value\n    setSelectedBusinessId(businessId)\n    const business = businesses.find((biz) => biz.id === businessId)\n    if (business && business.latitude && business.longitude) {\n      setMapPanTo({\n        lat: Number.parseFloat(business.latitude),\n        lng: Number.parseFloat(business.longitude),\n      })\n    }\n  }\n\n  const handleFcmTokenReceived = (token) => {\n    console.log(\"FCM token received and set:\", token)\n    setUserFcmToken(token)\n  }\n\n  const handleAddBusiness = async (newBusiness) => {\n    setBusinesses((prev) => [newBusiness, ...prev])\n    setSelectedNav(\"Highlighted Business\")\n    notifyNewBusiness(newBusiness, userFcmToken)\n  }\n\n  async function notifyNewBusiness(newBusiness, userFcmToken) {\n    if (!userFcmToken) {\n      console.warn(\"No FCM token available for notifications\")\n      return\n    }\n    try {\n      console.log(\"Sending notification with token:\", userFcmToken)\n      const response = await fetch(\"/api/send-notification\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          fcmToken: userFcmToken,\n          title: \"New Business Added!\",\n          body: `${newBusiness.name} just joined our app!`,\n        }),\n      })\n      if (!response.ok) {\n        const errorText = await response.text()\n        console.error(`Notification send failed: ${response.status}`, errorText)\n        return\n      }\n      const data = await response.json()\n      console.log(\"Notification sent successfully:\", data)\n    } catch (error) {\n      console.error(\"Error sending notification:\", error)\n    }\n  }\n\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth < 768 || /Mobi|Android/i.test(navigator.userAgent))\n    }\n    checkMobile()\n    window.addEventListener(\"resize\", checkMobile)\n    return () => window.removeEventListener(\"resize\", checkMobile)\n  }, [])\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setShowSplash(false)\n      setShowLanding(true)\n    }, 2000)\n    return () => clearTimeout(timer)\n  }, [])\n\n \n  useEffect(() => {\n    // Get initial session\n    supabase.auth.getSession().then(({ data: { session } }) => {\n      setSession(session);\n    });\n  \n    // Listen for auth changes\n    const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {\n      console.log('Auth event:', _event);\n      setSession(session);\n    });\n  \n    return () => {\n      subscription?.unsubscribe();\n    };\n  }, []);\n\n  // Add this useEffect to refresh session on mount\nuseEffect(() => {\n  const refreshUserSession = async () => {\n    const { data: { session: refreshedSession } } = await supabase.auth.refreshSession();\n    if (refreshedSession) {\n      setSession(refreshedSession);\n    }\n  };\n  \n  // Refresh session when component mounts\n  refreshUserSession();\n}, []);\n\n  // Add this new useEffect after your existing useEffects\nuseEffect(() => {\n  // Check if user was redirected from payment success\n  const urlParams = new URLSearchParams(window.location.search);\n  if (urlParams.get('showCard') === 'true' && isPremium) {\n    setSelectedNav(\"Display My Card\");\n    // Clear the URL parameter\n    window.history.replaceState({}, '', '/');\n  }\n}, [isPremium]);\n\n  const fetchBusinesses = async () => {\n    console.log(\"Fetching businesses from database...\")\n    const { data, error } = await supabase.from(\"businesses\").select(\"*\").order(\"created_at\", { ascending: false })\n\n    if (!error && data) {\n      console.log(\"Fetched businesses:\", data.length)\n      setBusinesses(data)\n      preloadImages(data)\n    } else if (error) {\n      console.error(\"Error fetching businesses:\", error)\n    }\n  }\n\n  const preloadImages = (businessList) => {\n    if (typeof window === \"undefined\") return\n\n    businessList.forEach((business) => {\n      const img = new window.Image()\n      img.src = getBusinessImage(business, \"small\")\n    })\n  }\n\n  useEffect(() => {\n    fetchBusinesses()\n  }, [])\n\n  useEffect(() => {\n    if (session?.user) {\n      const metadata = session.user.user_metadata || {}\n      setDisplayName(metadata.display_name || \"\")\n      setEditingName(metadata.display_name || \"\")\n      setAvatarUrl(metadata.avatar_url || \"\")\n    }\n  }, [session])\n\n  const saveName = async () => {\n    setIsSaving(true)\n    setSaveStatus(null)\n    const { data, error } = await supabase.auth.updateUser({\n      data: {\n        display_name: editingName,\n        avatar_url: avatarUrl,\n      },\n    })\n    if (!error && data?.user) {\n      setDisplayName(editingName)\n      setSession((prev) => ({ ...prev, user: data.user }))\n      setSaveStatus(\"success\")\n    } else {\n      setSaveStatus(\"error\")\n    }\n    setIsSaving(false)\n  }\n\n  const handleFileUpload = async (e) => {\n    const file = e.target.files[0]\n    if (!file || !session?.user?.id) return\n    setUploading(true)\n    const fileExt = file.name.split(\".\").pop()\n    const filePath = `avatars/${session.user.id}-${Date.now()}.${fileExt}`\n    const { error: uploadError } = await supabase.storage.from(\"avatars\").upload(filePath, file, { upsert: true })\n    if (uploadError) {\n      setUploading(false)\n      setSaveStatus(\"error\")\n      return\n    }\n    const { data: urlData } = supabase.storage.from(\"avatars\").getPublicUrl(filePath)\n    const publicUrl = urlData?.publicUrl || \"\"\n    if (!publicUrl) {\n      setUploading(false)\n      setSaveStatus(\"error\")\n      return\n    }\n    const { error: metaErr, data: updated } = await supabase.auth.updateUser({\n      data: {\n        display_name: editingName || displayName,\n        avatar_url: publicUrl,\n      },\n    })\n    if (!metaErr && updated?.user) {\n      setAvatarUrl(publicUrl)\n      setSession((prev) => ({ ...prev, user: updated.user }))\n      setSaveStatus(\"success\")\n    } else {\n      setSaveStatus(\"error\")\n    }\n    setUploading(false)\n  }\n\n  const handleLogout = async () => {\n    const { error } = await supabase.auth.signOut()\n    if (!error) {\n      setSession(null)\n      setDisplayName(\"\")\n      setEditingName(\"\")\n      setAvatarUrl(\"\")\n      setSelectedNav(navItems[0].label)\n    }\n  }\n\n  if (showSplash) {\n    return (\n      <div className=\"splash-screen\">\n        <div className=\"sparkle sparkle-1\">✦</div>\n        <div className=\"sparkle sparkle-2\">✧</div>\n        <div className=\"sparkle sparkle-3\">✦</div>\n        <div className=\"decorative-circle\"></div>\n        <div className=\"logo-container\">\n          <img src={logo || \"/placeholder.svg\"} alt=\"App logo\" className=\"splash-logo\" />\n        </div>\n        <div className=\"splash-tagline\"></div>\n      </div>\n    )\n  }\n\n  if (showLanding && !session) {\n    return (\n      <LandingPage\n        onLoginClick={() => {\n          setShowLanding(false)\n          setShowRegister(false)\n        }}\n        onGetStarted={() => {\n          setShowLanding(false)\n          setShowRegister(true)\n        }}\n      />\n    )\n  }\n\n  if (!session) {\n    return (\n      <Auth\n        onAuthSuccess={(_data, isSignUp) => {\n          supabase.auth.getSession().then(({ data: { session } }) => {\n            setSession(session)\n            if (isSignUp) setJustSignedUp(true)\n          })\n        }}\n        isLoginProp={!showRegister}\n      />\n    )\n  }\n\n  if (justSignedUp) {\n    return (\n      <div style={{ width: \"100vw\", margin: 0, padding: 16, boxSizing: \"border-box\" }}>\n        <h2>Welcome to Staten Island!</h2>\n        <MembershipCard\n          email={session.user.email}\n          name={displayName}\n          avatar={avatarUrl}\n          style={{ width: \"100%\", maxWidth: \"100%\" }}\n        />\n        <button\n          onClick={() => setJustSignedUp(false)}\n          style={{\n            marginTop: 24,\n            padding: \"12px 24px\",\n            backgroundColor: \"#007acc\",\n            color: \"#fff\",\n            border: \"none\",\n            borderRadius: 8,\n            fontWeight: \"600\",\n            cursor: \"pointer\",\n            transition: \"background 0.3s\",\n            width: \"100%\",\n            maxWidth: 400,\n            display: \"block\",\n          }}\n          onMouseEnter={(e) => (e.target.style.backgroundColor = \"#005fa3\")}\n          onMouseLeave={(e) => (e.target.style.backgroundColor = \"#007acc\")}\n        >\n          Continue to App\n        </button>\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      <style>\n        {`\n          @keyframes pulse {\n            0%, 100% { opacity: 0.6; }\n            50% { opacity: 1; }\n          }\n        `}\n      </style>\n      <div style={{ display: \"flex\", flexDirection: \"column\", height: \"100vh\" }}>\n        <main style={{ flex: 1, padding: 0, overflowY: \"auto\" }}>\n          {selectedNav === \"Display My Card\" ? (\n            <div\n              style={{\n                padding: \"40px 20px\",\n                margin: 0,\n                width: \"100vw\",\n                minHeight: \"calc(100vh - 60px)\",\n                backgroundColor: \"#ffffff\",\n                display: \"flex\",\n                flexDirection: \"column\",\n                alignItems: \"center\",\n                justifyContent: \"flex-start\",\n                textAlign: \"center\",\n                boxSizing: \"border-box\",\n              }}\n            >\n              <MembershipCard\n                email={session.user.email}\n                name={displayName}\n                avatar={avatarUrl}\n                shouldShake={shouldShake}\n                style={{ width: \"100%\", maxWidth: 400, margin: \"0 auto\" }}\n              />\n            </div>\n          ) : selectedNav === \"Add Your Business\" ? (\n            <BusinessForm onAddBusiness={handleAddBusiness} />\n          ) : selectedNav === \"Map\" ? (\n            <div style={{ height: \"100vh\", display: \"flex\", flexDirection: \"column\" }}>\n              <div style={{ flexGrow: 1 }}>\n                <StatenIslandMap businesses={businesses} />\n              </div>\n            </div>\n          ) : selectedNav === \"Profile and Payment\" ? (\n            <div className=\"profile-page-backdrop\">\n              <ProfileAndPayment\n                session={session}\n                displayName={displayName}\n                onSaveName={saveName}\n                editingName={editingName}\n                setEditingName={setEditingName}\n                isSaving={isSaving}\n                saveStatus={saveStatus}\n                onLogout={handleLogout}\n              />\n            </div>\n          ) : selectedNav === \"Highlighted Business\" ? (\n            <div>\n              <div className=\"highlighted-business-container\">\n                <div className=\"highlighted-business-header\">\n                  <h2>Hello, {displayName || \"Guest\"}!</h2>\n                </div>\n                <div className=\"highlighted-search-container\">\n                  <span>🔍</span>\n                  <input\n                    type=\"text\"\n                    placeholder=\"Search businesses...\"\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                  />\n                </div>\n              </div>\n              <div className=\"highlighted-filter-bar\">\n                <div className=\"filter-controls-row\">\n                  <select value={sortBy} onChange={(e) => setSortBy(e.target.value)}>\n                    <option value=\"\">Sort By</option>\n                    <option value=\"az\">A → Z</option>\n                    <option value=\"za\">Z → A</option>\n                    <option value=\"oldest\">Oldest → Newest</option>\n                    <option value=\"newest\">Newest → Oldest</option>\n                    <option value=\"rating\">Highest Rating</option>\n                  </select>\n                  <select value={zipSearch} onChange={(e) => setZipSearch(e.target.value)}>\n                    <option value=\"\">📍 Search by Zip</option>\n                    {[...new Set(businesses.map((biz) => biz.zip_code))].map(\n                      (zip, idx) =>\n                        zip && (\n                          <option key={idx} value={zip}>\n                            {zip}\n                          </option>\n                        ),\n                    )}\n                  </select>\n                  <div className=\"highlighted-tag-input\">\n                    <input\n                      type=\"text\"\n                      placeholder=\" 🏷️ Add tag...\"\n                      value={newTag}\n                      onChange={(e) => setNewTag(e.target.value)}\n                      onKeyDown={(e) => {\n                        if (e.key === \"Enter\" && newTag.trim()) {\n                          setTags([...tags, newTag.trim()])\n                          setNewTag(\"\")\n                        }\n                      }}\n                    />\n                  </div>\n                </div>\n                {tags.length > 0 && (\n                  <div className=\"highlighted-tags-list\">\n                    {tags.map((tag, idx) => (\n                      <span key={idx}>\n                        {tag}\n                        <button onClick={() => setTags(tags.filter((_, i) => i !== idx))}>✕</button>\n                      </span>\n                    ))}\n                  </div>\n                )}\n              </div>\n              {businesses\n                .filter((biz) => {\n                  const matchesSearch =\n                    (biz.name || \"\").toLowerCase().includes(searchTerm.toLowerCase()) ||\n                    (biz.description || \"\").toLowerCase().includes(searchTerm.toLowerCase())\n\n                  const matchesTag =\n                    tags.length === 0 ||\n                    (Array.isArray(biz.tags) &&\n                      tags.some((t) => biz.tags.some((tag) => tag.toLowerCase() === t.toLowerCase())))\n\n                  const matchesZip =\n                    !zipSearch || (biz.zip_code && biz.zip_code.toString().startsWith(zipSearch.trim()))\n\n                  return matchesSearch && matchesTag && matchesZip\n                })\n                .sort((a, b) => {\n                  if (sortBy === \"az\") return a.name.localeCompare(b.name)\n                  if (sortBy === \"za\") return b.name.localeCompare(a.name)\n                  if (sortBy === \"oldest\") return a.id - b.id\n                  if (sortBy === \"newest\") return b.id - a.id\n                  if (sortBy === \"rating\") return (b.rating || 0) - (a.rating || 0)\n                  return 0\n                })\n                .map((biz) => (\n                  <div\n                    key={biz.id}\n                    className=\"highlighted-business-card\"\n                    onClick={() => setSelectedBusiness(biz)}\n                    style={{ cursor: \"pointer\" }}\n                  >\n                    <div style={{ position: \"relative\" }}>\n                      {biz.uploading && (\n                        <div\n                          style={{\n                            position: \"absolute\",\n                            top: 0,\n                            left: 0,\n                            right: 0,\n                            bottom: 0,\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            backgroundColor: \"rgba(255,255,255,0.8)\",\n                            borderRadius: \"8px\",\n                            zIndex: 10,\n                          }}\n                        >\n                          <div>Uploading...</div>\n                        </div>\n                      )}\n                      <OptimizedImage\n                        src={getBusinessImage(biz)}\n                        alt={biz.name}\n                        className=\"highlighted-business-logo\"\n                        onClick={(e) => {\n                          e.stopPropagation()\n                          setSelectedBusiness(biz)\n                        }}\n                      />\n                      {isAdmin && (\n                        <label\n                          style={{\n                            position: \"absolute\",\n                            bottom: -8,\n                            right: -8,\n                            backgroundColor: \"#1e3a8a\",\n                            color: \"white\",\n                            borderRadius: \"50%\",\n                            width: 28,\n                            height: 28,\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            cursor: \"pointer\",\n                            fontSize: \"14px\",\n                            boxShadow: \"0 2px 6px rgba(0,0,0,0.2)\",\n                          }}\n                          onClick={(e) => e.stopPropagation()}\n                        >\n                          📷\n                          <input\n                            type=\"file\"\n                            accept=\"image/*\"\n                            style={{ display: \"none\" }}\n                            onChange={(e) => {\n                              if (e.target.files?.[0]) {\n                                handleLogoUpload(biz.id, e.target.files[0])\n                              }\n                            }}\n                          />\n                        </label>\n                      )}\n                    </div>\n\n                    <div className=\"highlighted-business-content\">\n                      <div className=\"highlighted-business-name\">{biz.name}</div>\n                      {biz.description && <div className=\"highlighted-business-description\">{biz.description}</div>}\n\n                      <div\n                        style={{ display: \"flex\", alignItems: \"center\", gap: 4 }}\n                        onClick={(e) => e.stopPropagation()}\n                      >\n                        {[1, 2, 3, 4, 5].map((star) => (\n                          <span\n                            key={star}\n                            onClick={async (e) => {\n                              e.stopPropagation()\n                              if (!session?.user) {\n                                alert(\"Please sign in to rate this business.\")\n                                return\n                              }\n                              try {\n                                const { error: insertError } = await supabase.from(\"reviews\").insert({\n                                  business_id: biz.id,\n                                  user_id: session.user.id,\n                                  rating: star,\n                                })\n                                if (insertError) throw insertError\n\n                                const { data: allReviews, error: fetchError } = await supabase\n                                  .from(\"reviews\")\n                                  .select(\"rating\")\n                                  .eq(\"business_id\", biz.id)\n\n                                if (fetchError) throw fetchError\n\n                                const total = allReviews.length\n                                const avg = total > 0 ? allReviews.reduce((a, r) => a + r.rating, 0) / total : 0\n\n                                const { error: updateError } = await supabase\n                                  .from(\"businesses\")\n                                  .update({\n                                    rating: avg.toFixed(1),\n                                    review_count: total,\n                                  })\n                                  .eq(\"id\", biz.id)\n\n                                if (updateError) throw updateError\n\n                                setBusinesses((prev) =>\n                                  prev.map((b) =>\n                                    b.id === biz.id ? { ...b, rating: avg.toFixed(1), review_count: total } : b,\n                                  ),\n                                )\n                              } catch (err) {\n                                console.error(\"Rating error:\", err)\n                                alert(\"Error submitting your rating.\")\n                              }\n                            }}\n                            style={{\n                              color: (biz.rating || 0) >= star ? \"#f59e0b\" : \"#ccc\",\n                              fontSize: 18,\n                              cursor: \"pointer\",\n                            }}\n                          >\n                            ★\n                          </span>\n                        ))}\n                        <span style={{ fontSize: 13, color: \"#f59e0b\", fontWeight: 500 }}>\n                          {biz.rating || \" 0.0\"} ({biz.review_count || 0})\n                        </span>\n                      </div>\n\n                      {Array.isArray(biz.tags) && biz.tags.length > 0 && (\n                        <div className=\"highlighted-business-tags\">\n                          <span className=\"highlighted-tag-pill\">\n                            <span>🏷️</span>\n                            <span>{biz.tags[0]}</span>\n                          </span>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                ))}\n            </div>\n          ) : (\n            <div>{/* Any other routes */}</div>\n          )}\n        </main>\n        {selectedBusiness && (\n          <BusinessProfile\n            business={selectedBusiness}\n            onClose={() => setSelectedBusiness(null)}\n            isAdmin={isAdmin}\n            onPhotosUpdate={uploadBusinessPhotos}\n          />\n        )}\n        <nav\n          style={{\n            display: \"flex\",\n            justifyContent: \"space-around\",\n            backgroundColor: \"#darkblue\",\n            padding: \"8px 4px\",\n            borderTop: \"1px solid #ccc\",\n            minHeight: \"60px\",\n          }}\n        >\n          {navItems.map(({ label, icon: Icon }) => {\n            const isSelected = selectedNav === label\n            const shortLabel =\n              label === \"Highlighted Business\"\n                ? \"Businesses \"\n                : label === \"Display My Card\"\n                  ? \"My Card\"\n                  : label === \"Profile and Payment\"\n                    ? \"Profile\"\n                    : label\n            return (\n              <div\n                key={label}\n                onClick={() => handleNavClick(label)}\n                style={{\n                  cursor: \"pointer\",\n                  padding: \"4px 2px\",\n                  borderRadius: 6,\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                  color: isSelected ? \"darkblue\" : \"#666\",\n                  fontWeight: isSelected ? \"bold\" : \"normal\",\n                  transition: \"color 0.3s\",\n                  flex: 1,\n                  maxWidth: \"80px\",\n                }}\n              >\n                <Icon size={20} color={isSelected ? \"darkblue\" : \"#666\"} />\n                <span\n                  style={{\n                    fontSize: \"10px\",\n                    marginTop: 2,\n                    textAlign: \"center\",\n                    lineHeight: \"12px\",\n                    whiteSpace: \"nowrap\",\n                    overflow: \"hidden\",\n                    textOverflow: \"ellipsis\",\n                    maxWidth: \"100%\",\n                  }}\n                >\n                  {shortLabel}\n                </span>\n              </div>\n            )\n          })}\n        </nav>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n"],"names":[],"mappings":"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","debugId":null}}]
}